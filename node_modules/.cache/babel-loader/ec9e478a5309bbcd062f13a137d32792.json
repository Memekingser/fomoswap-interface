{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){const data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  width: \",\";\\n  height: 2px;\\n  background-color: \",\";\\n  transition: width 100ms linear;\\n\"]);_templateObject4=function(){return data;};return data;}function _templateObject3(){const data=_taggedTemplateLiteral([\"\\n    min-width: 290px;\\n  \"]);_templateObject3=function(){return data;};return data;}function _templateObject2(){const data=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  padding: 1em;\\n  background-color: \",\";\\n  position: relative;\\n  border-radius: 10px;\\n  padding: 20px;\\n  padding-right: 35px;\\n  z-index: 2;\\n  overflow: hidden;\\n\\n  \",\"\\n\"]);_templateObject2=function(){return data;};return data;}function _templateObject(){const data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"]);_templateObject=function(){return data;};return data;}import React,{useCallback,useContext,useState}from'react';import{X}from'react-feather';import styled,{ThemeContext}from'styled-components';import useInterval from'../../hooks/useInterval';import{useRemovePopup}from'../../state/application/hooks';import ListUpdatePopup from'./ListUpdatePopup';import TransactionPopup from'./TransactionPopup';export const StyledClose=styled(X)(_templateObject());export const Popup=styled.div(_templateObject2(),_ref=>{let{theme}=_ref;return theme.bg1;},_ref2=>{let{theme}=_ref2;return theme.mediaWidth.upToSmall(_templateObject3());});const DELAY=100;const Fader=styled.div(_templateObject4(),_ref3=>{let{count}=_ref3;return\"calc(100% - (100% / \".concat(150/count,\"))\");},_ref4=>{let{theme}=_ref4;return theme.bg3;});export default function PopupItem(_ref5){let{content,popKey}=_ref5;const[count,setCount]=useState(1);const[isRunning,setIsRunning]=useState(true);const removePopup=useRemovePopup();const removeThisPopup=useCallback(()=>removePopup(popKey),[popKey,removePopup]);useInterval(()=>{count>150?removeThisPopup():setCount(count+1);},isRunning?DELAY:null);const theme=useContext(ThemeContext);const handleMouseEnter=useCallback(()=>setIsRunning(false),[]);const handleMouseLeave=useCallback(()=>setIsRunning(true),[]);let popupContent;if('txn'in content){const{txn:{hash,success,summary}}=content;popupContent=/*#__PURE__*/React.createElement(TransactionPopup,{hash:hash,success:success,summary:summary});}else if('listUpdate'in content){const{listUpdate:{listUrl,oldList,newList,auto}}=content;popupContent=/*#__PURE__*/React.createElement(ListUpdatePopup,{popKey:popKey,listUrl:listUrl,oldList:oldList,newList:newList,auto:auto});}return/*#__PURE__*/React.createElement(Popup,{onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave},/*#__PURE__*/React.createElement(StyledClose,{color:theme.text2,onClick:()=>removePopup(popKey)}),popupContent,/*#__PURE__*/React.createElement(Fader,{count:count}));}","map":{"version":3,"names":["React","useCallback","useContext","useState","X","styled","ThemeContext","useInterval","useRemovePopup","ListUpdatePopup","TransactionPopup","StyledClose","_templateObject","Popup","div","_templateObject2","_ref","theme","bg1","_ref2","mediaWidth","upToSmall","_templateObject3","DELAY","Fader","_templateObject4","_ref3","count","concat","_ref4","bg3","PopupItem","_ref5","content","popKey","setCount","isRunning","setIsRunning","removePopup","removeThisPopup","handleMouseEnter","handleMouseLeave","popupContent","txn","hash","success","summary","createElement","listUpdate","listUrl","oldList","newList","auto","onMouseEnter","onMouseLeave","color","text2","onClick"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/components/Popups/PopupItem.tsx"],"sourcesContent":["import React, { useCallback, useContext, useState } from 'react'\nimport { X } from 'react-feather'\nimport styled, { ThemeContext } from 'styled-components'\nimport useInterval from '../../hooks/useInterval'\nimport { PopupContent } from '../../state/application/actions'\nimport { useRemovePopup } from '../../state/application/hooks'\nimport ListUpdatePopup from './ListUpdatePopup'\nimport TransactionPopup from './TransactionPopup'\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({ theme }) => theme.bg1};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  z-index: 2;\n  overflow: hidden;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    min-width: 290px;\n  `}\n`\nconst DELAY = 100\nconst Fader = styled.div<{ count: number }>`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: ${({ count }) => `calc(100% - (100% / ${150 / count}))`};\n  height: 2px;\n  background-color: ${({ theme }) => theme.bg3};\n  transition: width 100ms linear;\n`\n\nexport default function PopupItem({ content, popKey }: { content: PopupContent; popKey: string }) {\n  const [count, setCount] = useState(1)\n\n  const [isRunning, setIsRunning] = useState(true)\n  const removePopup = useRemovePopup()\n\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\n\n  useInterval(\n    () => {\n      count > 150 ? removeThisPopup() : setCount(count + 1)\n    },\n    isRunning ? DELAY : null\n  )\n\n  const theme = useContext(ThemeContext)\n\n  const handleMouseEnter = useCallback(() => setIsRunning(false), [])\n  const handleMouseLeave = useCallback(() => setIsRunning(true), [])\n\n  let popupContent\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary }\n    } = content\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\n  } else if ('listUpdate' in content) {\n    const {\n      listUpdate: { listUrl, oldList, newList, auto }\n    } = content\n    popupContent = <ListUpdatePopup popKey={popKey} listUrl={listUrl} oldList={oldList} newList={newList} auto={auto} />\n  }\n\n  return (\n    <Popup onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n      <StyledClose color={theme.text2} onClick={() => removePopup(popKey)} />\n      {popupContent}\n      <Fader count={count} />\n    </Popup>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}