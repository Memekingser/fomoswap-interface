{"ast":null,"code":"import{TradeType}from'fomoswap-artio';import React,{useContext,useMemo,useState}from'react';import{Repeat}from'react-feather';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{Field}from'../../state/swap/actions';import{TYPE}from'../../theme';import{computeSlippageAdjustedAmounts,computeTradePriceBreakdown,formatExecutionPrice,warningSeverity}from'../../utils/prices';import{ButtonError}from'../Button';import{AutoColumn}from'../Column';import QuestionHelper from'../QuestionHelper';import{AutoRow,RowBetween,RowFixed}from'../Row';import FormattedPriceImpact from'./FormattedPriceImpact';import{StyledBalanceMaxMini,SwapCallbackError}from'./styleds';export default function SwapModalFooter(_ref){var _slippageAdjustedAmou,_slippageAdjustedAmou2,_slippageAdjustedAmou3,_slippageAdjustedAmou4;let{trade,onConfirm,allowedSlippage,swapErrorMessage,disabledConfirm}=_ref;const[showInverted,setShowInverted]=useState(false);const theme=useContext(ThemeContext);const slippageAdjustedAmounts=useMemo(()=>computeSlippageAdjustedAmounts(trade,allowedSlippage),[allowedSlippage,trade]);const{priceImpactWithoutFee,realizedLPFee}=useMemo(()=>computeTradePriceBreakdown(trade),[trade]);const severity=warningSeverity(priceImpactWithoutFee);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"0px\"},/*#__PURE__*/React.createElement(RowBetween,{align:\"center\"},/*#__PURE__*/React.createElement(Text,{fontWeight:400,fontSize:14,color:theme.text2},\"Price\"),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:14,color:theme.text1,style:{justifyContent:'center',alignItems:'center',display:'flex',textAlign:'right',paddingLeft:'10px'}},formatExecutionPrice(trade,showInverted),/*#__PURE__*/React.createElement(StyledBalanceMaxMini,{onClick:()=>setShowInverted(!showInverted)},/*#__PURE__*/React.createElement(Repeat,{size:14})))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2},trade.tradeType===TradeType.EXACT_INPUT?'Minimum received':'Maximum sold'),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\"})),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14},trade.tradeType===TradeType.EXACT_INPUT?(_slippageAdjustedAmou=(_slippageAdjustedAmou2=slippageAdjustedAmounts[Field.OUTPUT])===null||_slippageAdjustedAmou2===void 0?void 0:_slippageAdjustedAmou2.toSignificant(4))!==null&&_slippageAdjustedAmou!==void 0?_slippageAdjustedAmou:'-':(_slippageAdjustedAmou3=(_slippageAdjustedAmou4=slippageAdjustedAmounts[Field.INPUT])===null||_slippageAdjustedAmou4===void 0?void 0:_slippageAdjustedAmou4.toSignificant(4))!==null&&_slippageAdjustedAmou3!==void 0?_slippageAdjustedAmou3:'-'),/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,marginLeft:'4px'},trade.tradeType===TradeType.EXACT_INPUT?trade.outputAmount.currency.symbol:trade.inputAmount.currency.symbol))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{color:theme.text2,fontSize:14,fontWeight:400},\"Price Impact\"),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"The difference between the market price and your price due to trade size.\"})),/*#__PURE__*/React.createElement(FormattedPriceImpact,{priceImpact:priceImpactWithoutFee})),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2},\"Liquidity Provider Fee\"),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\"})),/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14},realizedLPFee?(realizedLPFee===null||realizedLPFee===void 0?void 0:realizedLPFee.toSignificant(6))+' '+trade.inputAmount.currency.symbol:'-'))),/*#__PURE__*/React.createElement(AutoRow,null,/*#__PURE__*/React.createElement(ButtonError,{onClick:onConfirm,disabled:disabledConfirm,error:severity>2,style:{margin:'10px 0 0 0'},id:\"confirm-swap-or-send\"},/*#__PURE__*/React.createElement(Text,{fontSize:20,fontWeight:500},severity>2?'Swap Anyway':'Confirm Swap')),swapErrorMessage?/*#__PURE__*/React.createElement(SwapCallbackError,{error:swapErrorMessage}):null));}","map":{"version":3,"names":["TradeType","React","useContext","useMemo","useState","Repeat","Text","ThemeContext","Field","TYPE","computeSlippageAdjustedAmounts","computeTradePriceBreakdown","formatExecutionPrice","warningSeverity","ButtonError","AutoColumn","QuestionHelper","AutoRow","RowBetween","RowFixed","FormattedPriceImpact","StyledBalanceMaxMini","SwapCallbackError","SwapModalFooter","_ref","_slippageAdjustedAmou","_slippageAdjustedAmou2","_slippageAdjustedAmou3","_slippageAdjustedAmou4","trade","onConfirm","allowedSlippage","swapErrorMessage","disabledConfirm","showInverted","setShowInverted","theme","slippageAdjustedAmounts","priceImpactWithoutFee","realizedLPFee","severity","createElement","Fragment","gap","align","fontWeight","fontSize","color","text2","text1","style","justifyContent","alignItems","display","textAlign","paddingLeft","onClick","size","black","tradeType","EXACT_INPUT","text","OUTPUT","toSignificant","INPUT","marginLeft","outputAmount","currency","symbol","inputAmount","priceImpact","disabled","error","margin","id"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/components/swap/SwapModalFooter.tsx"],"sourcesContent":["import { Trade, TradeType } from 'fomoswap-artio'\nimport React, { useContext, useMemo, useState } from 'react'\nimport { Repeat } from 'react-feather'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components'\nimport { Field } from '../../state/swap/actions'\nimport { TYPE } from '../../theme'\nimport {\n  computeSlippageAdjustedAmounts,\n  computeTradePriceBreakdown,\n  formatExecutionPrice,\n  warningSeverity\n} from '../../utils/prices'\nimport { ButtonError } from '../Button'\nimport { AutoColumn } from '../Column'\nimport QuestionHelper from '../QuestionHelper'\nimport { AutoRow, RowBetween, RowFixed } from '../Row'\nimport FormattedPriceImpact from './FormattedPriceImpact'\nimport { StyledBalanceMaxMini, SwapCallbackError } from './styleds'\n\nexport default function SwapModalFooter({\n  trade,\n  onConfirm,\n  allowedSlippage,\n  swapErrorMessage,\n  disabledConfirm\n}: {\n  trade: Trade\n  allowedSlippage: number\n  onConfirm: () => void\n  swapErrorMessage: string | undefined\n  disabledConfirm: boolean\n}) {\n  const [showInverted, setShowInverted] = useState<boolean>(false)\n  const theme = useContext(ThemeContext)\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\n    allowedSlippage,\n    trade\n  ])\n  const { priceImpactWithoutFee, realizedLPFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\n  const severity = warningSeverity(priceImpactWithoutFee)\n\n  return (\n    <>\n      <AutoColumn gap=\"0px\">\n        <RowBetween align=\"center\">\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\n            Price\n          </Text>\n          <Text\n            fontWeight={500}\n            fontSize={14}\n            color={theme.text1}\n            style={{\n              justifyContent: 'center',\n              alignItems: 'center',\n              display: 'flex',\n              textAlign: 'right',\n              paddingLeft: '10px'\n            }}\n          >\n            {formatExecutionPrice(trade, showInverted)}\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\n              <Repeat size={14} />\n            </StyledBalanceMaxMini>\n          </Text>\n        </RowBetween>\n\n        <RowBetween>\n          <RowFixed>\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\n              {trade.tradeType === TradeType.EXACT_INPUT ? 'Minimum received' : 'Maximum sold'}\n            </TYPE.black>\n            <QuestionHelper text=\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\" />\n          </RowFixed>\n          <RowFixed>\n            <TYPE.black fontSize={14}>\n              {trade.tradeType === TradeType.EXACT_INPUT\n                ? slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4) ?? '-'\n                : slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4) ?? '-'}\n            </TYPE.black>\n            <TYPE.black fontSize={14} marginLeft={'4px'}>\n              {trade.tradeType === TradeType.EXACT_INPUT\n                ? trade.outputAmount.currency.symbol\n                : trade.inputAmount.currency.symbol}\n            </TYPE.black>\n          </RowFixed>\n        </RowBetween>\n        <RowBetween>\n          <RowFixed>\n            <TYPE.black color={theme.text2} fontSize={14} fontWeight={400}>\n              Price Impact\n            </TYPE.black>\n            <QuestionHelper text=\"The difference between the market price and your price due to trade size.\" />\n          </RowFixed>\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\n        </RowBetween>\n        <RowBetween>\n          <RowFixed>\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\n              Liquidity Provider Fee\n            </TYPE.black>\n            <QuestionHelper text=\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\" />\n          </RowFixed>\n          <TYPE.black fontSize={14}>\n            {realizedLPFee ? realizedLPFee?.toSignificant(6) + ' ' + trade.inputAmount.currency.symbol : '-'}\n          </TYPE.black>\n        </RowBetween>\n      </AutoColumn>\n\n      <AutoRow>\n        <ButtonError\n          onClick={onConfirm}\n          disabled={disabledConfirm}\n          error={severity > 2}\n          style={{ margin: '10px 0 0 0' }}\n          id=\"confirm-swap-or-send\"\n        >\n          <Text fontSize={20} fontWeight={500}>\n            {severity > 2 ? 'Swap Anyway' : 'Confirm Swap'}\n          </Text>\n        </ButtonError>\n\n        {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\n      </AutoRow>\n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}