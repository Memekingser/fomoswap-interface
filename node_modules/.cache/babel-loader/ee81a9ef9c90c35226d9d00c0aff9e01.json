{"ast":null,"code":"import{Currency,currencyEquals,ETHER,JSBI,Token}from'fomoswap-storytestnet';import React,{memo,useContext,useMemo}from'react';import{FixedSizeList}from'react-window';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{useActiveWeb3React}from'../../hooks';import{useAllTokens}from'../../hooks/Tokens';import{useDefaultTokenList}from'../../state/lists/hooks';import{useAddUserToken,useRemoveUserAddedToken}from'../../state/user/hooks';import{useETHBalances}from'../../state/wallet/hooks';import{LinkStyledButton,TYPE}from'../../theme';import{ButtonSecondary}from'../Button';import Column,{AutoColumn}from'../Column';import{RowFixed}from'../Row';import CurrencyLogo from'../CurrencyLogo';import{FadedSpan,MenuItem}from'./styleds';import Loader from'../Loader';import{isDefaultToken}from'../../utils';function currencyKey(currency){return currency instanceof Token?currency.address:currency===ETHER?'ETHER':'';}export default function CurrencyList(_ref){let{currencies,allBalances,selectedCurrency,onCurrencySelect,otherCurrency,showSendWithSwap}=_ref;const{account,chainId}=useActiveWeb3React();const theme=useContext(ThemeContext);const allTokens=useAllTokens();const defaultTokens=useDefaultTokenList();const addToken=useAddUserToken();const removeToken=useRemoveUserAddedToken();const ETHBalance=useETHBalances([account])[account];const CurrencyRow=useMemo(()=>{return memo(function CurrencyRow(_ref2){let{index,style}=_ref2;const currency=index===0?Currency.ETHER:currencies[index-1];const key=currencyKey(currency);const isDefault=isDefaultToken(defaultTokens,currency);const customAdded=Boolean(!isDefault&&currency instanceof Token&&allTokens[currency.address]);const balance=currency===ETHER?ETHBalance:allBalances[key];const zeroBalance=balance&&JSBI.equal(JSBI.BigInt(0),balance.raw);const isSelected=Boolean(selectedCurrency&&currencyEquals(currency,selectedCurrency));const otherSelected=Boolean(otherCurrency&&currencyEquals(otherCurrency,currency));return/*#__PURE__*/React.createElement(MenuItem,{style:style,className:\"token-item-\".concat(key),onClick:()=>isSelected?null:onCurrencySelect(currency),disabled:isSelected,selected:otherSelected},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(CurrencyLogo,{currency:currency,size:'24px',style:{marginRight:'14px'}}),/*#__PURE__*/React.createElement(Column,null,/*#__PURE__*/React.createElement(Text,{fontWeight:500},currency.symbol==='ETH'?'IP':currency.symbol),/*#__PURE__*/React.createElement(FadedSpan,null,customAdded?/*#__PURE__*/React.createElement(TYPE.main,{fontWeight:500},\"Added by user\",/*#__PURE__*/React.createElement(LinkStyledButton,{onClick:event=>{event.stopPropagation();if(currency instanceof Token)removeToken(chainId,currency.address);}},\"(Remove)\")):null,!isDefault&&!customAdded?/*#__PURE__*/React.createElement(TYPE.main,{fontWeight:500},\"Found by address\",/*#__PURE__*/React.createElement(LinkStyledButton,{onClick:event=>{event.stopPropagation();if(currency instanceof Token)addToken(currency);}},\"(Add)\")):null))),/*#__PURE__*/React.createElement(AutoColumn,null,balance?/*#__PURE__*/React.createElement(Text,null,zeroBalance&&showSendWithSwap?/*#__PURE__*/React.createElement(ButtonSecondary,{padding:'4px 8px'},/*#__PURE__*/React.createElement(Text,{textAlign:\"center\",fontWeight:500,fontSize:14,color:theme.primary1},\"Send With Swap\")):balance?balance.toSignificant(6):'-'):account?/*#__PURE__*/React.createElement(Loader,null):'-'));});},[ETHBalance,account,addToken,allBalances,allTokens,chainId,currencies,defaultTokens,onCurrencySelect,otherCurrency,removeToken,selectedCurrency,showSendWithSwap,theme.primary1]);return/*#__PURE__*/React.createElement(FixedSizeList,{width:\"100%\",height:500,itemCount:currencies.length+1,itemSize:56,style:{flex:'1'},itemKey:index=>currencyKey(currencies[index])},CurrencyRow);}","map":{"version":3,"names":["Currency","currencyEquals","ETHER","JSBI","Token","React","memo","useContext","useMemo","FixedSizeList","Text","ThemeContext","useActiveWeb3React","useAllTokens","useDefaultTokenList","useAddUserToken","useRemoveUserAddedToken","useETHBalances","LinkStyledButton","TYPE","ButtonSecondary","Column","AutoColumn","RowFixed","CurrencyLogo","FadedSpan","MenuItem","Loader","isDefaultToken","currencyKey","currency","address","CurrencyList","_ref","currencies","allBalances","selectedCurrency","onCurrencySelect","otherCurrency","showSendWithSwap","account","chainId","theme","allTokens","defaultTokens","addToken","removeToken","ETHBalance","CurrencyRow","_ref2","index","style","key","isDefault","customAdded","Boolean","balance","zeroBalance","equal","BigInt","raw","isSelected","otherSelected","createElement","className","concat","onClick","disabled","selected","size","marginRight","fontWeight","symbol","main","event","stopPropagation","padding","textAlign","fontSize","color","primary1","toSignificant","width","height","itemCount","length","itemSize","flex","itemKey"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/components/SearchModal/CurrencyList.tsx"],"sourcesContent":["import { Currency, CurrencyAmount, currencyEquals, ETHER, JSBI, Token } from 'fomoswap-storytestnet'\nimport React, { CSSProperties, memo, useContext, useMemo } from 'react'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useAllTokens } from '../../hooks/Tokens'\nimport { useDefaultTokenList } from '../../state/lists/hooks'\nimport { useAddUserToken, useRemoveUserAddedToken } from '../../state/user/hooks'\nimport { useETHBalances } from '../../state/wallet/hooks'\nimport { LinkStyledButton, TYPE } from '../../theme'\nimport { ButtonSecondary } from '../Button'\nimport Column, { AutoColumn } from '../Column'\nimport { RowFixed } from '../Row'\nimport CurrencyLogo from '../CurrencyLogo'\nimport { FadedSpan, MenuItem } from './styleds'\nimport Loader from '../Loader'\nimport { isDefaultToken } from '../../utils'\n\nfunction currencyKey(currency: Currency): string {\n  return currency instanceof Token ? currency.address : currency === ETHER ? 'ETHER' : ''\n}\n\nexport default function CurrencyList({\n  currencies,\n  allBalances,\n  selectedCurrency,\n  onCurrencySelect,\n  otherCurrency,\n  showSendWithSwap\n}: {\n  currencies: Currency[]\n  selectedCurrency: Currency\n  allBalances: { [tokenAddress: string]: CurrencyAmount }\n  onCurrencySelect: (currency: Currency) => void\n  otherCurrency: Currency\n  showSendWithSwap?: boolean\n}) {\n  const { account, chainId } = useActiveWeb3React()\n  const theme = useContext(ThemeContext)\n  const allTokens = useAllTokens()\n  const defaultTokens = useDefaultTokenList()\n  const addToken = useAddUserToken()\n  const removeToken = useRemoveUserAddedToken()\n  const ETHBalance = useETHBalances([account])[account]\n\n  const CurrencyRow = useMemo(() => {\n    return memo(function CurrencyRow({ index, style }: { index: number; style: CSSProperties }) {\n      const currency = index === 0 ? Currency.ETHER : currencies[index - 1]\n      const key = currencyKey(currency)\n      const isDefault = isDefaultToken(defaultTokens, currency)\n      const customAdded = Boolean(!isDefault && currency instanceof Token && allTokens[currency.address])\n      const balance = currency === ETHER ? ETHBalance : allBalances[key]\n\n      const zeroBalance = balance && JSBI.equal(JSBI.BigInt(0), balance.raw)\n\n      const isSelected = Boolean(selectedCurrency && currencyEquals(currency, selectedCurrency))\n      const otherSelected = Boolean(otherCurrency && currencyEquals(otherCurrency, currency))\n\n      return (\n        <MenuItem\n          style={style}\n          className={`token-item-${key}`}\n          onClick={() => (isSelected ? null : onCurrencySelect(currency))}\n          disabled={isSelected}\n          selected={otherSelected}\n        >\n          <RowFixed>\n            <CurrencyLogo currency={currency} size={'24px'} style={{ marginRight: '14px' }} />\n            <Column>\n              <Text fontWeight={500}>{currency.symbol === 'ETH' ? 'IP' : currency.symbol}</Text>\n              <FadedSpan>\n                {customAdded ? (\n                  <TYPE.main fontWeight={500}>\n                    Added by user\n                    <LinkStyledButton\n                      onClick={event => {\n                        event.stopPropagation()\n                        if (currency instanceof Token) removeToken(chainId, currency.address)\n                      }}\n                    >\n                      (Remove)\n                    </LinkStyledButton>\n                  </TYPE.main>\n                ) : null}\n                {!isDefault && !customAdded ? (\n                  <TYPE.main fontWeight={500}>\n                    Found by address\n                    <LinkStyledButton\n                      onClick={event => {\n                        event.stopPropagation()\n                        if (currency instanceof Token) addToken(currency)\n                      }}\n                    >\n                      (Add)\n                    </LinkStyledButton>\n                  </TYPE.main>\n                ) : null}\n              </FadedSpan>\n            </Column>\n          </RowFixed>\n          <AutoColumn>\n            {balance ? (\n              <Text>\n                {zeroBalance && showSendWithSwap ? (\n                  <ButtonSecondary padding={'4px 8px'}>\n                    <Text textAlign=\"center\" fontWeight={500} fontSize={14} color={theme.primary1}>\n                      Send With Swap\n                    </Text>\n                  </ButtonSecondary>\n                ) : balance ? (\n                  balance.toSignificant(6)\n                ) : (\n                  '-'\n                )}\n              </Text>\n            ) : account ? (\n              <Loader />\n            ) : (\n              '-'\n            )}\n          </AutoColumn>\n        </MenuItem>\n      )\n    })\n  }, [\n    ETHBalance,\n    account,\n    addToken,\n    allBalances,\n    allTokens,\n    chainId,\n    currencies,\n    defaultTokens,\n    onCurrencySelect,\n    otherCurrency,\n    removeToken,\n    selectedCurrency,\n    showSendWithSwap,\n    theme.primary1\n  ])\n\n  return (\n    <FixedSizeList\n      width=\"100%\"\n      height={500}\n      itemCount={currencies.length + 1}\n      itemSize={56}\n      style={{ flex: '1' }}\n      itemKey={index => currencyKey(currencies[index])}\n    >\n      {CurrencyRow}\n    </FixedSizeList>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}