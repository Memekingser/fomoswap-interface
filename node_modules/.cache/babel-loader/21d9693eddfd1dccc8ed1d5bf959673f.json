{"ast":null,"code":"import{useWeb3React as useWeb3ReactCore}from'@web3-react/core';import{useEffect,useState}from'react';import{isMobile}from'react-device-detect';import{injected}from'../connectors';import{NetworkContextName}from'../constants';export function useActiveWeb3React(){const context=useWeb3ReactCore();const contextNetwork=useWeb3ReactCore(NetworkContextName);return context.active?context:contextNetwork;}export function useEagerConnect(){const{activate,active}=useWeb3ReactCore();// specifically using useWeb3ReactCore because of what this hook does\nconst[tried,setTried]=useState(false);useEffect(()=>{injected.isAuthorized().then(isAuthorized=>{if(isAuthorized){activate(injected,undefined,true).catch(()=>{setTried(true);});}else{if(isMobile&&window.ethereum){activate(injected,undefined,true).catch(()=>{setTried(true);});}else{setTried(true);}}});},[activate]);// intentionally only running on mount (make sure it's only mounted once :))\n// if the connection worked, wait until we get confirmation of that to flip the flag\nuseEffect(()=>{if(active){setTried(true);}},[active]);return tried;}/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */export function useInactiveListener(){let suppress=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{active,error,activate}=useWeb3ReactCore();// specifically using useWeb3React because of what this hook does\nuseEffect(()=>{const{ethereum}=window;if(ethereum&&ethereum.on&&!active&&!error&&!suppress){const handleChainChanged=()=>{// eat errors\nactivate(injected,undefined,true).catch(error=>{console.error('Failed to activate after chain changed',error);});};const handleAccountsChanged=accounts=>{if(accounts.length>0){// eat errors\nactivate(injected,undefined,true).catch(error=>{console.error('Failed to activate after accounts changed',error);});}};ethereum.on('chainChanged',handleChainChanged);ethereum.on('accountsChanged',handleAccountsChanged);return()=>{if(ethereum.removeListener){ethereum.removeListener('chainChanged',handleChainChanged);ethereum.removeListener('accountsChanged',handleAccountsChanged);}};}return;},[active,error,suppress,activate]);}","map":{"version":3,"names":["useWeb3React","useWeb3ReactCore","useEffect","useState","isMobile","injected","NetworkContextName","useActiveWeb3React","context","contextNetwork","active","useEagerConnect","activate","tried","setTried","isAuthorized","then","undefined","catch","window","ethereum","useInactiveListener","suppress","arguments","length","error","on","handleChainChanged","console","handleAccountsChanged","accounts","removeListener"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/hooks/index.ts"],"sourcesContent":["import { Web3Provider } from '@ethersproject/providers'\nimport { ChainId } from 'fomoswap-storytestnet'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\nimport { useEffect, useState } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { injected } from '../connectors'\nimport { NetworkContextName } from '../constants'\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & { chainId?: ChainId } {\n  const context = useWeb3ReactCore<Web3Provider>()\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\n  return context.active ? context : contextNetwork\n}\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then(isAuthorized => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch(error => {\n          console.error('Failed to activate after chain changed', error)\n        })\n      }\n\n      const handleAccountsChanged = (accounts: string[]) => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch(error => {\n            console.error('Failed to activate after accounts changed', error)\n          })\n        }\n      }\n\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n        }\n      }\n    }\n    return\n  }, [active, error, suppress, activate])\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}