{"ast":null,"code":"import{useEffect}from'react';import{useDispatch}from'react-redux';import{parse}from'qs';import{updateUserDarkMode}from'../state/user/actions';export default function DarkModeQueryParamReader(_ref){let{location:{search}}=_ref;const dispatch=useDispatch();useEffect(()=>{if(!search)return;if(search.length<2)return;const parsed=parse(search,{parseArrays:false,ignoreQueryPrefix:true});const theme=parsed.theme;if(typeof theme!=='string')return;if(theme.toLowerCase()==='light'){dispatch(updateUserDarkMode({userDarkMode:false}));}else if(theme.toLowerCase()==='dark'){dispatch(updateUserDarkMode({userDarkMode:true}));}},[dispatch,search]);return null;}","map":{"version":3,"names":["useEffect","useDispatch","parse","updateUserDarkMode","DarkModeQueryParamReader","_ref","location","search","dispatch","length","parsed","parseArrays","ignoreQueryPrefix","theme","toLowerCase","userDarkMode"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/theme/DarkModeQueryParamReader.tsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { parse } from 'qs'\nimport { AppDispatch } from '../state'\nimport { updateUserDarkMode } from '../state/user/actions'\n\nexport default function DarkModeQueryParamReader({ location: { search } }: RouteComponentProps) {\n  const dispatch = useDispatch<AppDispatch>()\n\n  useEffect(() => {\n    if (!search) return\n    if (search.length < 2) return\n\n    const parsed = parse(search, {\n      parseArrays: false,\n      ignoreQueryPrefix: true\n    })\n\n    const theme = parsed.theme\n\n    if (typeof theme !== 'string') return\n\n    if (theme.toLowerCase() === 'light') {\n      dispatch(updateUserDarkMode({ userDarkMode: false }))\n    } else if (theme.toLowerCase() === 'dark') {\n      dispatch(updateUserDarkMode({ userDarkMode: true }))\n    }\n  }, [dispatch, search])\n\n  return null\n}\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,aAAa,CAEzC,OAASC,KAAK,KAAQ,IAAI,CAE1B,OAASC,kBAAkB,KAAQ,uBAAuB,CAE1D,cAAe,SAAS,CAAAC,wBAAwBA,CAAAC,IAAA,CAAgD,IAA/C,CAAEC,QAAQ,CAAE,CAAEC,MAAO,CAAuB,CAAC,CAAAF,IAAA,CAC5F,KAAM,CAAAG,QAAQ,CAAGP,WAAW,CAAc,CAAC,CAE3CD,SAAS,CAAC,IAAM,CACd,GAAI,CAACO,MAAM,CAAE,OACb,GAAIA,MAAM,CAACE,MAAM,CAAG,CAAC,CAAE,OAEvB,KAAM,CAAAC,MAAM,CAAGR,KAAK,CAACK,MAAM,CAAE,CAC3BI,WAAW,CAAE,KAAK,CAClBC,iBAAiB,CAAE,IACrB,CAAC,CAAC,CAEF,KAAM,CAAAC,KAAK,CAAGH,MAAM,CAACG,KAAK,CAE1B,GAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,CAAE,OAE/B,GAAIA,KAAK,CAACC,WAAW,CAAC,CAAC,GAAK,OAAO,CAAE,CACnCN,QAAQ,CAACL,kBAAkB,CAAC,CAAEY,YAAY,CAAE,KAAM,CAAC,CAAC,CAAC,CACvD,CAAC,IAAM,IAAIF,KAAK,CAACC,WAAW,CAAC,CAAC,GAAK,MAAM,CAAE,CACzCN,QAAQ,CAACL,kBAAkB,CAAC,CAAEY,YAAY,CAAE,IAAK,CAAC,CAAC,CAAC,CACtD,CACF,CAAC,CAAE,CAACP,QAAQ,CAAED,MAAM,CAAC,CAAC,CAEtB,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module"}