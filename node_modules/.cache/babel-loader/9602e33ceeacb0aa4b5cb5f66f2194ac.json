{"ast":null,"code":"import { useEffect, useState } from 'react';\n\n/**\n * Returns the last value of type T that passes a filter function\n * @param value changing value\n * @param filterFn function that determines whether a given value should be considered for the last value\n */\nexport default function useLast(value, filterFn) {\n  const [last, setLast] = useState(filterFn && filterFn(value) ? value : undefined);\n  useEffect(() => {\n    setLast(last => {\n      const shouldUse = filterFn ? filterFn(value) : true;\n      if (shouldUse) return value;\n      return last;\n    });\n  }, [filterFn, value]);\n  return last;\n}\nfunction isDefined(x) {\n  return x !== null && x !== undefined;\n}\n\n/**\n * Returns the last truthy value of type T\n * @param value changing value\n */\nexport function useLastTruthy(value) {\n  return useLast(value, isDefined);\n}","map":{"version":3,"names":["useEffect","useState","useLast","value","filterFn","last","setLast","undefined","shouldUse","isDefined","x","useLastTruthy"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/hooks/useLast.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\n\n/**\n * Returns the last value of type T that passes a filter function\n * @param value changing value\n * @param filterFn function that determines whether a given value should be considered for the last value\n */\nexport default function useLast<T>(\n  value: T | undefined | null,\n  filterFn?: (value: T | null | undefined) => boolean\n): T | null | undefined {\n  const [last, setLast] = useState<T | null | undefined>(filterFn && filterFn(value) ? value : undefined)\n  useEffect(() => {\n    setLast(last => {\n      const shouldUse: boolean = filterFn ? filterFn(value) : true\n      if (shouldUse) return value\n      return last\n    })\n  }, [filterFn, value])\n  return last\n}\n\nfunction isDefined<T>(x: T | null | undefined): x is T {\n  return x !== null && x !== undefined\n}\n\n/**\n * Returns the last truthy value of type T\n * @param value changing value\n */\nexport function useLastTruthy<T>(value: T | undefined | null): T | null | undefined {\n  return useLast(value, isDefined)\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;AAE3C;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,OAAOA,CAC7BC,KAA2B,EAC3BC,QAAmD,EAC7B;EACtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAuBG,QAAQ,IAAIA,QAAQ,CAACD,KAAK,CAAC,GAAGA,KAAK,GAAGI,SAAS,CAAC;EACvGP,SAAS,CAAC,MAAM;IACdM,OAAO,CAACD,IAAI,IAAI;MACd,MAAMG,SAAkB,GAAGJ,QAAQ,GAAGA,QAAQ,CAACD,KAAK,CAAC,GAAG,IAAI;MAC5D,IAAIK,SAAS,EAAE,OAAOL,KAAK;MAC3B,OAAOE,IAAI;IACb,CAAC,CAAC;EACJ,CAAC,EAAE,CAACD,QAAQ,EAAED,KAAK,CAAC,CAAC;EACrB,OAAOE,IAAI;AACb;AAEA,SAASI,SAASA,CAAIC,CAAuB,EAAU;EACrD,OAAOA,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAKH,SAAS;AACtC;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASI,aAAaA,CAAIR,KAA2B,EAAwB;EAClF,OAAOD,OAAO,CAACC,KAAK,EAAEM,SAAS,CAAC;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module"}