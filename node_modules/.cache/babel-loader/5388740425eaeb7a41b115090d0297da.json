{"ast":null,"code":"import{TradeType}from'fomoswap-artio';import React,{useContext,useMemo}from'react';import{ArrowDown,AlertTriangle}from'react-feather';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{Field}from'../../state/swap/actions';import{TYPE}from'../../theme';import{ButtonPrimary}from'../Button';import{isAddress,shortenAddress}from'../../utils';import{computeSlippageAdjustedAmounts,computeTradePriceBreakdown,warningSeverity}from'../../utils/prices';import{AutoColumn}from'../Column';import CurrencyLogo from'../CurrencyLogo';import{RowBetween,RowFixed}from'../Row';import{TruncatedText,SwapShowAcceptChanges}from'./styleds';export default function SwapModalHeader(_ref){var _slippageAdjustedAmou,_slippageAdjustedAmou2;let{trade,allowedSlippage,recipient,showAcceptChanges,onAcceptChanges}=_ref;const slippageAdjustedAmounts=useMemo(()=>computeSlippageAdjustedAmounts(trade,allowedSlippage),[trade,allowedSlippage]);const{priceImpactWithoutFee}=useMemo(()=>computeTradePriceBreakdown(trade),[trade]);const priceImpactSeverity=warningSeverity(priceImpactWithoutFee);const theme=useContext(ThemeContext);return/*#__PURE__*/React.createElement(AutoColumn,{gap:'md',style:{marginTop:'20px'}},/*#__PURE__*/React.createElement(RowBetween,{align:\"flex-end\"},/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:trade.inputAmount.currency,size:'24px',style:{marginRight:'12px'}}),/*#__PURE__*/React.createElement(TruncatedText,{fontSize:24,fontWeight:500,color:showAcceptChanges&&trade.tradeType===TradeType.EXACT_OUTPUT?theme.primary1:''},trade.inputAmount.toSignificant(6))),/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'}},trade.inputAmount.currency.symbol))),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(ArrowDown,{size:\"16\",color:theme.text2,style:{marginLeft:'4px',minWidth:'16px'}})),/*#__PURE__*/React.createElement(RowBetween,{align:\"flex-end\"},/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:trade.outputAmount.currency,size:'24px',style:{marginRight:'12px'}}),/*#__PURE__*/React.createElement(TruncatedText,{fontSize:24,fontWeight:500,color:priceImpactSeverity>2?theme.red1:showAcceptChanges&&trade.tradeType===TradeType.EXACT_INPUT?theme.primary1:''},trade.outputAmount.toSignificant(6))),/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'}},trade.outputAmount.currency.symbol))),showAcceptChanges?/*#__PURE__*/React.createElement(SwapShowAcceptChanges,{justify:\"flex-start\",gap:'0px'},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(AlertTriangle,{size:20,style:{marginRight:'8px',minWidth:24}}),/*#__PURE__*/React.createElement(TYPE.main,{color:theme.primary1},\" Price Updated\")),/*#__PURE__*/React.createElement(ButtonPrimary,{style:{padding:'.5rem',width:'fit-content',fontSize:'0.825rem',borderRadius:'12px'},onClick:onAcceptChanges},\"Accept\"))):null,/*#__PURE__*/React.createElement(AutoColumn,{justify:\"flex-start\",gap:\"sm\",style:{padding:'12px 0 0 0px'}},trade.tradeType===TradeType.EXACT_INPUT?/*#__PURE__*/React.createElement(TYPE.italic,{textAlign:\"left\",style:{width:'100%'}},\"Output is estimated. You will receive at least \",/*#__PURE__*/React.createElement(\"b\",null,(_slippageAdjustedAmou=slippageAdjustedAmounts[Field.OUTPUT])===null||_slippageAdjustedAmou===void 0?void 0:_slippageAdjustedAmou.toSignificant(6),\" \",trade.outputAmount.currency.symbol),' or the transaction will revert.'):/*#__PURE__*/React.createElement(TYPE.italic,{textAlign:\"left\",style:{width:'100%'}},\"Input is estimated. You will sell at most \",/*#__PURE__*/React.createElement(\"b\",null,(_slippageAdjustedAmou2=slippageAdjustedAmounts[Field.INPUT])===null||_slippageAdjustedAmou2===void 0?void 0:_slippageAdjustedAmou2.toSignificant(6),\" \",trade.inputAmount.currency.symbol),' or the transaction will revert.')),recipient!==null?/*#__PURE__*/React.createElement(AutoColumn,{justify:\"flex-start\",gap:\"sm\",style:{padding:'12px 0 0 0px'}},/*#__PURE__*/React.createElement(TYPE.main,null,\"Output will be sent to\",' ',/*#__PURE__*/React.createElement(\"b\",{title:recipient},isAddress(recipient)?shortenAddress(recipient):recipient))):null);}","map":{"version":3,"names":["TradeType","React","useContext","useMemo","ArrowDown","AlertTriangle","Text","ThemeContext","Field","TYPE","ButtonPrimary","isAddress","shortenAddress","computeSlippageAdjustedAmounts","computeTradePriceBreakdown","warningSeverity","AutoColumn","CurrencyLogo","RowBetween","RowFixed","TruncatedText","SwapShowAcceptChanges","SwapModalHeader","_ref","_slippageAdjustedAmou","_slippageAdjustedAmou2","trade","allowedSlippage","recipient","showAcceptChanges","onAcceptChanges","slippageAdjustedAmounts","priceImpactWithoutFee","priceImpactSeverity","theme","createElement","gap","style","marginTop","align","currency","inputAmount","size","marginRight","fontSize","fontWeight","color","tradeType","EXACT_OUTPUT","primary1","toSignificant","marginLeft","symbol","text2","minWidth","outputAmount","red1","EXACT_INPUT","justify","main","padding","width","borderRadius","onClick","italic","textAlign","OUTPUT","INPUT","title"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/components/swap/SwapModalHeader.tsx"],"sourcesContent":["import { Trade, TradeType } from 'fomoswap-artio'\nimport React, { useContext, useMemo } from 'react'\nimport { ArrowDown, AlertTriangle } from 'react-feather'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components'\nimport { Field } from '../../state/swap/actions'\nimport { TYPE } from '../../theme'\nimport { ButtonPrimary } from '../Button'\nimport { isAddress, shortenAddress } from '../../utils'\nimport { computeSlippageAdjustedAmounts, computeTradePriceBreakdown, warningSeverity } from '../../utils/prices'\nimport { AutoColumn } from '../Column'\nimport CurrencyLogo from '../CurrencyLogo'\nimport { RowBetween, RowFixed } from '../Row'\nimport { TruncatedText, SwapShowAcceptChanges } from './styleds'\n\nexport default function SwapModalHeader({\n  trade,\n  allowedSlippage,\n  recipient,\n  showAcceptChanges,\n  onAcceptChanges\n}: {\n  trade: Trade\n  allowedSlippage: number\n  recipient: string | null\n  showAcceptChanges: boolean\n  onAcceptChanges: () => void\n}) {\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\n    trade,\n    allowedSlippage\n  ])\n  const { priceImpactWithoutFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\n\n  const theme = useContext(ThemeContext)\n\n  return (\n    <AutoColumn gap={'md'} style={{ marginTop: '20px' }}>\n      <RowBetween align=\"flex-end\">\n        <RowFixed gap={'0px'}>\n          <CurrencyLogo currency={trade.inputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\n          <TruncatedText\n            fontSize={24}\n            fontWeight={500}\n            color={showAcceptChanges && trade.tradeType === TradeType.EXACT_OUTPUT ? theme.primary1 : ''}\n          >\n            {trade.inputAmount.toSignificant(6)}\n          </TruncatedText>\n        </RowFixed>\n        <RowFixed gap={'0px'}>\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n            {trade.inputAmount.currency.symbol}\n          </Text>\n        </RowFixed>\n      </RowBetween>\n      <RowFixed>\n        <ArrowDown size=\"16\" color={theme.text2} style={{ marginLeft: '4px', minWidth: '16px' }} />\n      </RowFixed>\n      <RowBetween align=\"flex-end\">\n        <RowFixed gap={'0px'}>\n          <CurrencyLogo currency={trade.outputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\n          <TruncatedText\n            fontSize={24}\n            fontWeight={500}\n            color={\n              priceImpactSeverity > 2\n                ? theme.red1\n                : showAcceptChanges && trade.tradeType === TradeType.EXACT_INPUT\n                ? theme.primary1\n                : ''\n            }\n          >\n            {trade.outputAmount.toSignificant(6)}\n          </TruncatedText>\n        </RowFixed>\n        <RowFixed gap={'0px'}>\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n            {trade.outputAmount.currency.symbol}\n          </Text>\n        </RowFixed>\n      </RowBetween>\n      {showAcceptChanges ? (\n        <SwapShowAcceptChanges justify=\"flex-start\" gap={'0px'}>\n          <RowBetween>\n            <RowFixed>\n              <AlertTriangle size={20} style={{ marginRight: '8px', minWidth: 24 }} />\n              <TYPE.main color={theme.primary1}> Price Updated</TYPE.main>\n            </RowFixed>\n            <ButtonPrimary\n              style={{ padding: '.5rem', width: 'fit-content', fontSize: '0.825rem', borderRadius: '12px' }}\n              onClick={onAcceptChanges}\n            >\n              Accept\n            </ButtonPrimary>\n          </RowBetween>\n        </SwapShowAcceptChanges>\n      ) : null}\n      <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\n        {trade.tradeType === TradeType.EXACT_INPUT ? (\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\n            {`Output is estimated. You will receive at least `}\n            <b>\n              {slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(6)} {trade.outputAmount.currency.symbol}\n            </b>\n            {' or the transaction will revert.'}\n          </TYPE.italic>\n        ) : (\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\n            {`Input is estimated. You will sell at most `}\n            <b>\n              {slippageAdjustedAmounts[Field.INPUT]?.toSignificant(6)} {trade.inputAmount.currency.symbol}\n            </b>\n            {' or the transaction will revert.'}\n          </TYPE.italic>\n        )}\n      </AutoColumn>\n      {recipient !== null ? (\n        <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\n          <TYPE.main>\n            Output will be sent to{' '}\n            <b title={recipient}>{isAddress(recipient) ? shortenAddress(recipient) : recipient}</b>\n          </TYPE.main>\n        </AutoColumn>\n      ) : null}\n    </AutoColumn>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}