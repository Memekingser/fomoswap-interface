{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { isAddress } from '../utils';\nimport { useActiveWeb3React } from './index';\n\n/**\n * Does a reverse lookup for an address to find its ENS name.\n * Note this is not the same as looking up an ENS name to find an address.\n */\nexport default function useENSName(address) {\n  const {\n    library\n  } = useActiveWeb3React();\n  const [ENSName, setENSName] = useState({\n    loading: false,\n    ENSName: null\n  });\n  useEffect(() => {\n    const validated = isAddress(address);\n    if (!library || !validated) {\n      setENSName({\n        loading: false,\n        ENSName: null\n      });\n      return;\n    } else {\n      let stale = false;\n      setENSName({\n        loading: true,\n        ENSName: null\n      });\n      library.lookupAddress(validated).then(name => {\n        if (!stale) {\n          if (name) {\n            setENSName({\n              loading: false,\n              ENSName: name\n            });\n          } else {\n            setENSName({\n              loading: false,\n              ENSName: null\n            });\n          }\n        }\n      }).catch(() => {\n        if (!stale) {\n          setENSName({\n            loading: false,\n            ENSName: null\n          });\n        }\n      });\n      return () => {\n        stale = true;\n      };\n    }\n  }, [library, address]);\n  return ENSName;\n}","map":{"version":3,"names":["useEffect","useState","isAddress","useActiveWeb3React","useENSName","address","library","ENSName","setENSName","loading","validated","stale","lookupAddress","then","name","catch"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/hooks/useENSName.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { isAddress } from '../utils'\nimport { useActiveWeb3React } from './index'\n\n/**\n * Does a reverse lookup for an address to find its ENS name.\n * Note this is not the same as looking up an ENS name to find an address.\n */\nexport default function useENSName(address?: string): { ENSName: string | null; loading: boolean } {\n  const { library } = useActiveWeb3React()\n\n  const [ENSName, setENSName] = useState<{ ENSName: string | null; loading: boolean }>({\n    loading: false,\n    ENSName: null\n  })\n\n  useEffect(() => {\n    const validated = isAddress(address)\n    if (!library || !validated) {\n      setENSName({ loading: false, ENSName: null })\n      return\n    } else {\n      let stale = false\n      setENSName({ loading: true, ENSName: null })\n      library\n        .lookupAddress(validated)\n        .then(name => {\n          if (!stale) {\n            if (name) {\n              setENSName({ loading: false, ENSName: name })\n            } else {\n              setENSName({ loading: false, ENSName: null })\n            }\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            setENSName({ loading: false, ENSName: null })\n          }\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [library, address])\n\n  return ENSName\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,UAAU;AACpC,SAASC,kBAAkB,QAAQ,SAAS;;AAE5C;AACA;AACA;AACA;AACA,eAAe,SAASC,UAAUA,CAACC,OAAgB,EAAgD;EACjG,MAAM;IAAEC;EAAQ,CAAC,GAAGH,kBAAkB,CAAC,CAAC;EAExC,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAA+C;IACnFQ,OAAO,EAAE,KAAK;IACdF,OAAO,EAAE;EACX,CAAC,CAAC;EAEFP,SAAS,CAAC,MAAM;IACd,MAAMU,SAAS,GAAGR,SAAS,CAACG,OAAO,CAAC;IACpC,IAAI,CAACC,OAAO,IAAI,CAACI,SAAS,EAAE;MAC1BF,UAAU,CAAC;QAAEC,OAAO,EAAE,KAAK;QAAEF,OAAO,EAAE;MAAK,CAAC,CAAC;MAC7C;IACF,CAAC,MAAM;MACL,IAAII,KAAK,GAAG,KAAK;MACjBH,UAAU,CAAC;QAAEC,OAAO,EAAE,IAAI;QAAEF,OAAO,EAAE;MAAK,CAAC,CAAC;MAC5CD,OAAO,CACJM,aAAa,CAACF,SAAS,CAAC,CACxBG,IAAI,CAACC,IAAI,IAAI;QACZ,IAAI,CAACH,KAAK,EAAE;UACV,IAAIG,IAAI,EAAE;YACRN,UAAU,CAAC;cAAEC,OAAO,EAAE,KAAK;cAAEF,OAAO,EAAEO;YAAK,CAAC,CAAC;UAC/C,CAAC,MAAM;YACLN,UAAU,CAAC;cAAEC,OAAO,EAAE,KAAK;cAAEF,OAAO,EAAE;YAAK,CAAC,CAAC;UAC/C;QACF;MACF,CAAC,CAAC,CACDQ,KAAK,CAAC,MAAM;QACX,IAAI,CAACJ,KAAK,EAAE;UACVH,UAAU,CAAC;YAAEC,OAAO,EAAE,KAAK;YAAEF,OAAO,EAAE;UAAK,CAAC,CAAC;QAC/C;MACF,CAAC,CAAC;MAEJ,OAAO,MAAM;QACXI,KAAK,GAAG,IAAI;MACd,CAAC;IACH;EACF,CAAC,EAAE,CAACL,OAAO,EAAED,OAAO,CAAC,CAAC;EAEtB,OAAOE,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module"}