{"ast":null,"code":"import{WETH}from'fomoswap-storytestnet';import{useMemo}from'react';import{useActiveWeb3React}from'../../hooks';import{useAllTokenBalances}from'../../state/wallet/hooks';// compare two token amounts with highest one coming first\nfunction balanceComparator(balanceA,balanceB){if(balanceA&&balanceB){return balanceA.greaterThan(balanceB)?-1:balanceA.equalTo(balanceB)?0:1;}else if(balanceA&&balanceA.greaterThan('0')){return-1;}else if(balanceB&&balanceB.greaterThan('0')){return 1;}return 0;}function getTokenComparator(weth,balances){return function sortTokens(tokenA,tokenB){// -1 = a is first\n// 1 = b is first\n// sort BERA first\nif(weth){if(tokenA.equals(weth))return-1;if(tokenB.equals(weth))return 1;}// sort by balances\nconst balanceA=balances[tokenA.address];const balanceB=balances[tokenB.address];const balanceComp=balanceComparator(balanceA,balanceB);if(balanceComp!==0)return balanceComp;// sort by symbol\nreturn tokenA.symbol.toLowerCase()<tokenB.symbol.toLowerCase()?-1:1;};}export function useTokenComparator(inverted){const{chainId}=useActiveWeb3React();const weth=WETH[chainId];const balances=useAllTokenBalances();const comparator=useMemo(()=>getTokenComparator(weth,balances!==null&&balances!==void 0?balances:{}),[balances,weth]);return useMemo(()=>{if(inverted){return(tokenA,tokenB)=>comparator(tokenA,tokenB)*-1;}else{return comparator;}},[inverted,comparator]);}","map":{"version":3,"names":["WETH","useMemo","useActiveWeb3React","useAllTokenBalances","balanceComparator","balanceA","balanceB","greaterThan","equalTo","getTokenComparator","weth","balances","sortTokens","tokenA","tokenB","equals","address","balanceComp","symbol","toLowerCase","useTokenComparator","inverted","chainId","comparator"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/components/SearchModal/sorting.ts"],"sourcesContent":["import { Token, TokenAmount, WETH } from 'fomoswap-storytestnet'\nimport { useMemo } from 'react'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useAllTokenBalances } from '../../state/wallet/hooks'\n\n// compare two token amounts with highest one coming first\nfunction balanceComparator(balanceA?: TokenAmount, balanceB?: TokenAmount) {\n  if (balanceA && balanceB) {\n    return balanceA.greaterThan(balanceB) ? -1 : balanceA.equalTo(balanceB) ? 0 : 1\n  } else if (balanceA && balanceA.greaterThan('0')) {\n    return -1\n  } else if (balanceB && balanceB.greaterThan('0')) {\n    return 1\n  }\n  return 0\n}\n\nfunction getTokenComparator(\n  weth: Token | undefined,\n  balances: { [tokenAddress: string]: TokenAmount }\n): (tokenA: Token, tokenB: Token) => number {\n  return function sortTokens(tokenA: Token, tokenB: Token): number {\n    // -1 = a is first\n    // 1 = b is first\n\n    // sort BERA first\n    if (weth) {\n      if (tokenA.equals(weth)) return -1\n      if (tokenB.equals(weth)) return 1\n    }\n\n    // sort by balances\n    const balanceA = balances[tokenA.address]\n    const balanceB = balances[tokenB.address]\n\n    const balanceComp = balanceComparator(balanceA, balanceB)\n    if (balanceComp !== 0) return balanceComp\n\n    // sort by symbol\n    return tokenA.symbol.toLowerCase() < tokenB.symbol.toLowerCase() ? -1 : 1\n  }\n}\n\nexport function useTokenComparator(inverted: boolean): (tokenA: Token, tokenB: Token) => number {\n  const { chainId } = useActiveWeb3React()\n  const weth = WETH[chainId]\n  const balances = useAllTokenBalances()\n  const comparator = useMemo(() => getTokenComparator(weth, balances ?? {}), [balances, weth])\n  return useMemo(() => {\n    if (inverted) {\n      return (tokenA: Token, tokenB: Token) => comparator(tokenA, tokenB) * -1\n    } else {\n      return comparator\n    }\n  }, [inverted, comparator])\n}\n"],"mappings":"AAAA,OAA6BA,IAAI,KAAQ,uBAAuB,CAChE,OAASC,OAAO,KAAQ,OAAO,CAC/B,OAASC,kBAAkB,KAAQ,aAAa,CAChD,OAASC,mBAAmB,KAAQ,0BAA0B,CAE9D;AACA,QAAS,CAAAC,iBAAiBA,CAACC,QAAsB,CAAEC,QAAsB,CAAE,CACzE,GAAID,QAAQ,EAAIC,QAAQ,CAAE,CACxB,MAAO,CAAAD,QAAQ,CAACE,WAAW,CAACD,QAAQ,CAAC,CAAG,CAAC,CAAC,CAAGD,QAAQ,CAACG,OAAO,CAACF,QAAQ,CAAC,CAAG,CAAC,CAAG,CAAC,CACjF,CAAC,IAAM,IAAID,QAAQ,EAAIA,QAAQ,CAACE,WAAW,CAAC,GAAG,CAAC,CAAE,CAChD,MAAO,CAAC,CAAC,CACX,CAAC,IAAM,IAAID,QAAQ,EAAIA,QAAQ,CAACC,WAAW,CAAC,GAAG,CAAC,CAAE,CAChD,MAAO,EAAC,CACV,CACA,MAAO,EAAC,CACV,CAEA,QAAS,CAAAE,kBAAkBA,CACzBC,IAAuB,CACvBC,QAAiD,CACP,CAC1C,MAAO,SAAS,CAAAC,UAAUA,CAACC,MAAa,CAAEC,MAAa,CAAU,CAC/D;AACA;AAEA;AACA,GAAIJ,IAAI,CAAE,CACR,GAAIG,MAAM,CAACE,MAAM,CAACL,IAAI,CAAC,CAAE,MAAO,CAAC,CAAC,CAClC,GAAII,MAAM,CAACC,MAAM,CAACL,IAAI,CAAC,CAAE,MAAO,EAAC,CACnC,CAEA;AACA,KAAM,CAAAL,QAAQ,CAAGM,QAAQ,CAACE,MAAM,CAACG,OAAO,CAAC,CACzC,KAAM,CAAAV,QAAQ,CAAGK,QAAQ,CAACG,MAAM,CAACE,OAAO,CAAC,CAEzC,KAAM,CAAAC,WAAW,CAAGb,iBAAiB,CAACC,QAAQ,CAAEC,QAAQ,CAAC,CACzD,GAAIW,WAAW,GAAK,CAAC,CAAE,MAAO,CAAAA,WAAW,CAEzC;AACA,MAAO,CAAAJ,MAAM,CAACK,MAAM,CAACC,WAAW,CAAC,CAAC,CAAGL,MAAM,CAACI,MAAM,CAACC,WAAW,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG,CAAC,CAC3E,CAAC,CACH,CAEA,MAAO,SAAS,CAAAC,kBAAkBA,CAACC,QAAiB,CAA4C,CAC9F,KAAM,CAAEC,OAAQ,CAAC,CAAGpB,kBAAkB,CAAC,CAAC,CACxC,KAAM,CAAAQ,IAAI,CAAGV,IAAI,CAACsB,OAAO,CAAC,CAC1B,KAAM,CAAAX,QAAQ,CAAGR,mBAAmB,CAAC,CAAC,CACtC,KAAM,CAAAoB,UAAU,CAAGtB,OAAO,CAAC,IAAMQ,kBAAkB,CAACC,IAAI,CAAEC,QAAQ,SAARA,QAAQ,UAARA,QAAQ,CAAI,CAAC,CAAC,CAAC,CAAE,CAACA,QAAQ,CAAED,IAAI,CAAC,CAAC,CAC5F,MAAO,CAAAT,OAAO,CAAC,IAAM,CACnB,GAAIoB,QAAQ,CAAE,CACZ,MAAO,CAACR,MAAa,CAAEC,MAAa,GAAKS,UAAU,CAACV,MAAM,CAAEC,MAAM,CAAC,CAAG,CAAC,CAAC,CAC1E,CAAC,IAAM,CACL,MAAO,CAAAS,UAAU,CACnB,CACF,CAAC,CAAE,CAACF,QAAQ,CAAEE,UAAU,CAAC,CAAC,CAC5B","ignoreList":[]},"metadata":{},"sourceType":"module"}