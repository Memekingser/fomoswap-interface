{"ast":null,"code":"import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateMatchesDarkMode } from './actions';\nexport default function Updater() {\n  const dispatch = useDispatch();\n\n  // keep dark mode in sync with the system\n  useEffect(() => {\n    var _window;\n    const darkHandler = match => {\n      dispatch(updateMatchesDarkMode({\n        matchesDarkMode: match.matches\n      }));\n    };\n    const match = (_window = window) === null || _window === void 0 ? void 0 : _window.matchMedia('(prefers-color-scheme: dark)');\n    dispatch(updateMatchesDarkMode({\n      matchesDarkMode: match.matches\n    }));\n    if (match === null || match === void 0 ? void 0 : match.addListener) {\n      match === null || match === void 0 ? void 0 : match.addListener(darkHandler);\n    } else if (match === null || match === void 0 ? void 0 : match.addEventListener) {\n      match === null || match === void 0 ? void 0 : match.addEventListener('change', darkHandler);\n    }\n    return () => {\n      if (match === null || match === void 0 ? void 0 : match.removeListener) {\n        match === null || match === void 0 ? void 0 : match.removeListener(darkHandler);\n      } else if (match === null || match === void 0 ? void 0 : match.removeEventListener) {\n        match === null || match === void 0 ? void 0 : match.removeEventListener('change', darkHandler);\n      }\n    };\n  }, [dispatch]);\n  return null;\n}","map":{"version":3,"names":["useEffect","useDispatch","updateMatchesDarkMode","Updater","dispatch","_window","darkHandler","match","matchesDarkMode","matches","window","matchMedia","addListener","addEventListener","removeListener","removeEventListener"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/state/user/updater.tsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { AppDispatch } from '../index'\nimport { updateMatchesDarkMode } from './actions'\n\nexport default function Updater() {\n  const dispatch = useDispatch<AppDispatch>()\n\n  // keep dark mode in sync with the system\n  useEffect(() => {\n    const darkHandler = (match: MediaQueryListEvent) => {\n      dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\n    }\n\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\n    dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\n\n    if (match?.addListener) {\n      match?.addListener(darkHandler)\n    } else if (match?.addEventListener) {\n      match?.addEventListener('change', darkHandler)\n    }\n\n    return () => {\n      if (match?.removeListener) {\n        match?.removeListener(darkHandler)\n      } else if (match?.removeEventListener) {\n        match?.removeEventListener('change', darkHandler)\n      }\n    }\n  }, [dispatch])\n\n  return null\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,aAAa;AAEzC,SAASC,qBAAqB,QAAQ,WAAW;AAEjD,eAAe,SAASC,OAAOA,CAAA,EAAG;EAChC,MAAMC,QAAQ,GAAGH,WAAW,CAAc,CAAC;;EAE3C;EACAD,SAAS,CAAC,MAAM;IAAA,IAAAK,OAAA;IACd,MAAMC,WAAW,GAAIC,KAA0B,IAAK;MAClDH,QAAQ,CAACF,qBAAqB,CAAC;QAAEM,eAAe,EAAED,KAAK,CAACE;MAAQ,CAAC,CAAC,CAAC;IACrE,CAAC;IAED,MAAMF,KAAK,IAAAF,OAAA,GAAGK,MAAM,cAAAL,OAAA,uBAANA,OAAA,CAAQM,UAAU,CAAC,8BAA8B,CAAC;IAChEP,QAAQ,CAACF,qBAAqB,CAAC;MAAEM,eAAe,EAAED,KAAK,CAACE;IAAQ,CAAC,CAAC,CAAC;IAEnE,IAAIF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEK,WAAW,EAAE;MACtBL,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEK,WAAW,CAACN,WAAW,CAAC;IACjC,CAAC,MAAM,IAAIC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM,gBAAgB,EAAE;MAClCN,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM,gBAAgB,CAAC,QAAQ,EAAEP,WAAW,CAAC;IAChD;IAEA,OAAO,MAAM;MACX,IAAIC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEO,cAAc,EAAE;QACzBP,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEO,cAAc,CAACR,WAAW,CAAC;MACpC,CAAC,MAAM,IAAIC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEQ,mBAAmB,EAAE;QACrCR,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEQ,mBAAmB,CAAC,QAAQ,EAAET,WAAW,CAAC;MACnD;IACF,CAAC;EACH,CAAC,EAAE,CAACF,QAAQ,CAAC,CAAC;EAEd,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module"}