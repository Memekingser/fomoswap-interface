{"ast":null,"code":"import{splitSignature}from'@ethersproject/bytes';import{currencyEquals,ETHER,Percent,WETH}from'fomoswap-artio';import React,{useCallback,useContext,useMemo,useState}from'react';import{ArrowDown,Plus}from'react-feather';import ReactGA from'react-ga';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{ButtonPrimary,ButtonLight,ButtonError,ButtonConfirmed}from'../../components/Button';import{LightCard}from'../../components/Card';import{AutoColumn,ColumnCenter}from'../../components/Column';import TransactionConfirmationModal,{ConfirmationModalContent}from'../../components/TransactionConfirmationModal';import CurrencyInputPanel from'../../components/CurrencyInputPanel';import DoubleCurrencyLogo from'../../components/DoubleLogo';import{AddRemoveTabs}from'../../components/NavigationTabs';import{MinimalPositionCard}from'../../components/PositionCard';import Row,{RowBetween,RowFixed}from'../../components/Row';import Slider from'../../components/Slider';import CurrencyLogo from'../../components/CurrencyLogo';import{ROUTER_ADDRESS}from'../../constants';import{useActiveWeb3React}from'../../hooks';import{useCurrency}from'../../hooks/Tokens';import{usePairContract}from'../../hooks/useContract';import{useTransactionAdder}from'../../state/transactions/hooks';import{StyledInternalLink,TYPE}from'../../theme';import{calculateGasMargin,calculateSlippageAmount,getRouterContract}from'../../utils';import{currencyId}from'../../utils/currencyId';import{wrappedCurrency}from'../../utils/wrappedCurrency';import AppBody from'../AppBody';import{ClickableText,MaxButton,Wrapper}from'../Pool/styleds';import{useApproveCallback,ApprovalState}from'../../hooks/useApproveCallback';import{Dots}from'../../components/swap/styleds';import{useBurnActionHandlers}from'../../state/burn/hooks';import{useDerivedBurnInfo,useBurnState}from'../../state/burn/hooks';import{Field}from'../../state/burn/actions';import{useWalletModalToggle}from'../../state/application/hooks';import{useUserDeadline,useUserSlippageTolerance}from'../../state/user/hooks';import{BigNumber}from'@ethersproject/bignumber';export default function RemoveLiquidity(_ref){var _useCurrency,_useCurrency2,_parsedAmounts$Field$,_parsedAmounts$Field$2,_parsedAmounts$Field$3,_parsedAmounts$Field$4,_parsedAmounts$Field$5,_parsedAmounts$Field$6,_parsedAmounts$Field$7,_pair$liquidityToken,_parsedAmounts$Field$13,_parsedAmounts$Field$14;let{history,match:{params:{currencyIdA,currencyIdB}}}=_ref;const[currencyA,currencyB]=[(_useCurrency=useCurrency(currencyIdA))!==null&&_useCurrency!==void 0?_useCurrency:undefined,(_useCurrency2=useCurrency(currencyIdB))!==null&&_useCurrency2!==void 0?_useCurrency2:undefined];const{account,chainId,library}=useActiveWeb3React();const[tokenA,tokenB]=useMemo(()=>[wrappedCurrency(currencyA,chainId),wrappedCurrency(currencyB,chainId)],[currencyA,currencyB,chainId]);const theme=useContext(ThemeContext);// toggle wallet when disconnected\nconst toggleWalletModal=useWalletModalToggle();// burn state\nconst{independentField,typedValue}=useBurnState();const{pair,parsedAmounts,error}=useDerivedBurnInfo(currencyA!==null&&currencyA!==void 0?currencyA:undefined,currencyB!==null&&currencyB!==void 0?currencyB:undefined);const{onUserInput:_onUserInput}=useBurnActionHandlers();const isValid=!error;// modal and loading\nconst[showConfirm,setShowConfirm]=useState(false);const[showDetailed,setShowDetailed]=useState(false);const[attemptingTxn,setAttemptingTxn]=useState(false);// clicked confirm\n// txn values\nconst[txHash,setTxHash]=useState('');const[deadline]=useUserDeadline();const[allowedSlippage]=useUserSlippageTolerance();const formattedAmounts={[Field.LIQUIDITY_PERCENT]:parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')?'0':parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1','100'))?'<1':parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),[Field.LIQUIDITY]:independentField===Field.LIQUIDITY?typedValue:(_parsedAmounts$Field$=(_parsedAmounts$Field$2=parsedAmounts[Field.LIQUIDITY])===null||_parsedAmounts$Field$2===void 0?void 0:_parsedAmounts$Field$2.toSignificant(6))!==null&&_parsedAmounts$Field$!==void 0?_parsedAmounts$Field$:'',[Field.CURRENCY_A]:independentField===Field.CURRENCY_A?typedValue:(_parsedAmounts$Field$3=(_parsedAmounts$Field$4=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$4===void 0?void 0:_parsedAmounts$Field$4.toSignificant(6))!==null&&_parsedAmounts$Field$3!==void 0?_parsedAmounts$Field$3:'',[Field.CURRENCY_B]:independentField===Field.CURRENCY_B?typedValue:(_parsedAmounts$Field$5=(_parsedAmounts$Field$6=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$6===void 0?void 0:_parsedAmounts$Field$6.toSignificant(6))!==null&&_parsedAmounts$Field$5!==void 0?_parsedAmounts$Field$5:''};const atMaxAmount=(_parsedAmounts$Field$7=parsedAmounts[Field.LIQUIDITY_PERCENT])===null||_parsedAmounts$Field$7===void 0?void 0:_parsedAmounts$Field$7.equalTo(new Percent('1'));// pair contract\nconst pairContract=usePairContract(pair===null||pair===void 0?void 0:(_pair$liquidityToken=pair.liquidityToken)===null||_pair$liquidityToken===void 0?void 0:_pair$liquidityToken.address);// allowance handling\nconst[signatureData,setSignatureData]=useState(null);const[approval,approveCallback]=useApproveCallback(parsedAmounts[Field.LIQUIDITY],ROUTER_ADDRESS);async function onAttemptToApprove(){if(!pairContract||!pair||!library)throw new Error('missing dependencies');const liquidityAmount=parsedAmounts[Field.LIQUIDITY];if(!liquidityAmount)throw new Error('missing liquidity amount');// try to gather a signature for permission\nconst nonce=await pairContract.nonces(account);const deadlineForSignature=Math.ceil(Date.now()/1000)+deadline;const EIP712Domain=[{name:'name',type:'string'},{name:'version',type:'string'},{name:'chainId',type:'uint256'},{name:'verifyingContract',type:'address'}];const domain={name:'Uniswap V2',version:'1',chainId:chainId,verifyingContract:pair.liquidityToken.address};const Permit=[{name:'owner',type:'address'},{name:'spender',type:'address'},{name:'value',type:'uint256'},{name:'nonce',type:'uint256'},{name:'deadline',type:'uint256'}];const message={owner:account,spender:ROUTER_ADDRESS,value:liquidityAmount.raw.toString(),nonce:nonce.toHexString(),deadline:deadlineForSignature};const data=JSON.stringify({types:{EIP712Domain,Permit},domain,primaryType:'Permit',message});library.send('eth_signTypedData_v4',[account,data]).then(splitSignature).then(signature=>{setSignatureData({v:signature.v,r:signature.r,s:signature.s,deadline:deadlineForSignature});}).catch(error=>{// for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\nif((error===null||error===void 0?void 0:error.code)!==4001){approveCallback();}});}// wrapped onUserInput to clear signatures\nconst onUserInput=useCallback((field,typedValue)=>{setSignatureData(null);return _onUserInput(field,typedValue);},[_onUserInput]);const onLiquidityInput=useCallback(typedValue=>onUserInput(Field.LIQUIDITY,typedValue),[onUserInput]);const onCurrencyAInput=useCallback(typedValue=>onUserInput(Field.CURRENCY_A,typedValue),[onUserInput]);const onCurrencyBInput=useCallback(typedValue=>onUserInput(Field.CURRENCY_B,typedValue),[onUserInput]);// tx sending\nconst addTransaction=useTransactionAdder();async function onRemove(){if(!chainId||!library||!account)throw new Error('missing dependencies');const{[Field.CURRENCY_A]:currencyAmountA,[Field.CURRENCY_B]:currencyAmountB}=parsedAmounts;if(!currencyAmountA||!currencyAmountB){throw new Error('missing currency amounts');}const router=getRouterContract(chainId,library,account);const amountsMin={[Field.CURRENCY_A]:calculateSlippageAmount(currencyAmountA,allowedSlippage)[0],[Field.CURRENCY_B]:calculateSlippageAmount(currencyAmountB,allowedSlippage)[0]};if(!currencyA||!currencyB)throw new Error('missing tokens');const liquidityAmount=parsedAmounts[Field.LIQUIDITY];if(!liquidityAmount)throw new Error('missing liquidity amount');const currencyBIsETH=currencyB===ETHER;const oneCurrencyIsETH=currencyA===ETHER||currencyBIsETH;const deadlineFromNow=Math.ceil(Date.now()/1000)+deadline;if(!tokenA||!tokenB)throw new Error('could not wrap');let methodNames,args;// we have approval, use normal remove liquidity\nif(approval===ApprovalState.APPROVED){// removeLiquidityETH\nif(oneCurrencyIsETH){methodNames=['removeLiquidityETH','removeLiquidityETHSupportingFeeOnTransferTokens'];args=[currencyBIsETH?tokenA.address:tokenB.address,liquidityAmount.raw.toString(),amountsMin[currencyBIsETH?Field.CURRENCY_A:Field.CURRENCY_B].toString(),amountsMin[currencyBIsETH?Field.CURRENCY_B:Field.CURRENCY_A].toString(),account,deadlineFromNow];}// removeLiquidity\nelse{methodNames=['removeLiquidity'];args=[tokenA.address,tokenB.address,liquidityAmount.raw.toString(),amountsMin[Field.CURRENCY_A].toString(),amountsMin[Field.CURRENCY_B].toString(),account,deadlineFromNow];}}// we have a signataure, use permit versions of remove liquidity\nelse if(signatureData!==null){// removeLiquidityETHWithPermit\nif(oneCurrencyIsETH){methodNames=['removeLiquidityETHWithPermit','removeLiquidityETHWithPermitSupportingFeeOnTransferTokens'];args=[currencyBIsETH?tokenA.address:tokenB.address,liquidityAmount.raw.toString(),amountsMin[currencyBIsETH?Field.CURRENCY_A:Field.CURRENCY_B].toString(),amountsMin[currencyBIsETH?Field.CURRENCY_B:Field.CURRENCY_A].toString(),account,signatureData.deadline,false,signatureData.v,signatureData.r,signatureData.s];}// removeLiquidityETHWithPermit\nelse{methodNames=['removeLiquidityWithPermit'];args=[tokenA.address,tokenB.address,liquidityAmount.raw.toString(),amountsMin[Field.CURRENCY_A].toString(),amountsMin[Field.CURRENCY_B].toString(),account,signatureData.deadline,false,signatureData.v,signatureData.r,signatureData.s];}}else{throw new Error('Attempting to confirm without approval or a signature. Please contact support.');}const safeGasEstimates=await Promise.all(methodNames.map(methodName=>router.estimateGas[methodName](...args).then(calculateGasMargin).catch(error=>{console.error(\"estimateGas failed\",methodName,args,error);return undefined;})));const indexOfSuccessfulEstimation=safeGasEstimates.findIndex(safeGasEstimate=>BigNumber.isBigNumber(safeGasEstimate));// all estimations failed...\nif(indexOfSuccessfulEstimation===-1){console.error('This transaction would fail. Please contact support.');}else{const methodName=methodNames[indexOfSuccessfulEstimation];const safeGasEstimate=safeGasEstimates[indexOfSuccessfulEstimation];setAttemptingTxn(true);await router[methodName](...args,{gasLimit:safeGasEstimate}).then(response=>{var _parsedAmounts$Field$8,_parsedAmounts$Field$9;setAttemptingTxn(false);addTransaction(response,{summary:'Remove '+((_parsedAmounts$Field$8=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$8===void 0?void 0:_parsedAmounts$Field$8.toSignificant(3))+' '+(currencyA===null||currencyA===void 0?void 0:currencyA.symbol)+' and '+((_parsedAmounts$Field$9=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$9===void 0?void 0:_parsedAmounts$Field$9.toSignificant(3))+' '+(currencyB===null||currencyB===void 0?void 0:currencyB.symbol)});setTxHash(response.hash);ReactGA.event({category:'Liquidity',action:'Remove',label:[currencyA===null||currencyA===void 0?void 0:currencyA.symbol,currencyB===null||currencyB===void 0?void 0:currencyB.symbol].join('/')});}).catch(error=>{setAttemptingTxn(false);// we only care if the error is something _other_ than the user rejected the tx\nconsole.error(error);});}}function modalHeader(){var _parsedAmounts$Field$10,_parsedAmounts$Field$11;return/*#__PURE__*/React.createElement(AutoColumn,{gap:'md',style:{marginTop:'20px'}},/*#__PURE__*/React.createElement(RowBetween,{align:\"flex-end\"},/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500},(_parsedAmounts$Field$10=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$10===void 0?void 0:_parsedAmounts$Field$10.toSignificant(6)),/*#__PURE__*/React.createElement(RowFixed,{gap:\"4px\"},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:currencyA,size:'24px'}),/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'}},currencyA===null||currencyA===void 0?void 0:currencyA.symbol))),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Plus,{size:\"16\",color:theme.text2})),/*#__PURE__*/React.createElement(RowBetween,{align:\"flex-end\"},/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500},(_parsedAmounts$Field$11=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$11===void 0?void 0:_parsedAmounts$Field$11.toSignificant(6)),/*#__PURE__*/React.createElement(RowFixed,{gap:\"4px\"},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:currencyB,size:'24px'}),/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'}},currencyB===null||currencyB===void 0?void 0:currencyB.symbol))),/*#__PURE__*/React.createElement(TYPE.italic,{fontSize:12,color:theme.text2,textAlign:\"left\",padding:'12px 0 0 0'},\"Output is estimated. If the price changes by more than \".concat(allowedSlippage/100,\"% your transaction will revert.\")));}function modalBottom(){var _parsedAmounts$Field$12;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Text,{color:theme.text2,fontWeight:500,fontSize:16},'UNI '+(currencyA===null||currencyA===void 0?void 0:currencyA.symbol)+'/'+(currencyB===null||currencyB===void 0?void 0:currencyB.symbol),\" Burned\"),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(DoubleCurrencyLogo,{currency0:currencyA,currency1:currencyB,margin:true}),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:16},(_parsedAmounts$Field$12=parsedAmounts[Field.LIQUIDITY])===null||_parsedAmounts$Field$12===void 0?void 0:_parsedAmounts$Field$12.toSignificant(6)))),pair&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Text,{color:theme.text2,fontWeight:500,fontSize:16},\"Price\"),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:16,color:theme.text1},\"1 \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\" = \",tokenA?pair.priceOf(tokenA).toSignificant(6):'-',\" \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol)),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:16,color:theme.text1},\"1 \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" = \",tokenB?pair.priceOf(tokenB).toSignificant(6):'-',\" \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol))),/*#__PURE__*/React.createElement(ButtonPrimary,{disabled:!(approval===ApprovalState.APPROVED||signatureData!==null),onClick:onRemove},/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:20},\"Confirm\")));}const pendingText=\"Removing \".concat((_parsedAmounts$Field$13=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$13===void 0?void 0:_parsedAmounts$Field$13.toSignificant(6),\" \").concat(currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\" and \").concat((_parsedAmounts$Field$14=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$14===void 0?void 0:_parsedAmounts$Field$14.toSignificant(6),\" \").concat(currencyB===null||currencyB===void 0?void 0:currencyB.symbol);const liquidityPercentChangeCallback=useCallback(value=>{onUserInput(Field.LIQUIDITY_PERCENT,value.toString());},[onUserInput]);const oneCurrencyIsETH=currencyA===ETHER||currencyB===ETHER;const oneCurrencyIsWETH=Boolean(chainId&&(currencyA&&currencyEquals(WETH[chainId],currencyA)||currencyB&&currencyEquals(WETH[chainId],currencyB)));const handleSelectCurrencyA=useCallback(currency=>{if(currencyIdB&&currencyId(currency)===currencyIdB){history.push(\"/remove/\".concat(currencyId(currency),\"/\").concat(currencyIdA));}else{history.push(\"/remove/\".concat(currencyId(currency),\"/\").concat(currencyIdB));}},[currencyIdA,currencyIdB,history]);const handleSelectCurrencyB=useCallback(currency=>{if(currencyIdA&&currencyId(currency)===currencyIdA){history.push(\"/remove/\".concat(currencyIdB,\"/\").concat(currencyId(currency)));}else{history.push(\"/remove/\".concat(currencyIdA,\"/\").concat(currencyId(currency)));}},[currencyIdA,currencyIdB,history]);const handleDismissConfirmation=useCallback(()=>{setShowConfirm(false);setSignatureData(null);// important that we clear signature data to avoid bad sigs\n// if there was a tx hash, we want to clear the input\nif(txHash){onUserInput(Field.LIQUIDITY_PERCENT,'0');}setTxHash('');},[onUserInput,txHash]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AppBody,null,/*#__PURE__*/React.createElement(AddRemoveTabs,{adding:false}),/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(TransactionConfirmationModal,{isOpen:showConfirm,onDismiss:handleDismissConfirmation,attemptingTxn:attemptingTxn,hash:txHash?txHash:'',content:()=>/*#__PURE__*/React.createElement(ConfirmationModalContent,{title:'You will receive',onDismiss:handleDismissConfirmation,topContent:modalHeader,bottomContent:modalBottom}),pendingText:pendingText}),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(LightCard,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"20px\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Text,{fontWeight:500},\"Amount\"),/*#__PURE__*/React.createElement(ClickableText,{fontWeight:500,onClick:()=>{setShowDetailed(!showDetailed);}},showDetailed?'Simple':'Detailed')),/*#__PURE__*/React.createElement(Row,{style:{alignItems:'flex-end'}},/*#__PURE__*/React.createElement(Text,{fontSize:72,fontWeight:500},formattedAmounts[Field.LIQUIDITY_PERCENT],\"%\")),!showDetailed&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Slider,{value:Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),onChange:liquidityPercentChangeCallback}),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(MaxButton,{onClick:()=>onUserInput(Field.LIQUIDITY_PERCENT,'25'),width:\"20%\"},\"25%\"),/*#__PURE__*/React.createElement(MaxButton,{onClick:()=>onUserInput(Field.LIQUIDITY_PERCENT,'50'),width:\"20%\"},\"50%\"),/*#__PURE__*/React.createElement(MaxButton,{onClick:()=>onUserInput(Field.LIQUIDITY_PERCENT,'75'),width:\"20%\"},\"75%\"),/*#__PURE__*/React.createElement(MaxButton,{onClick:()=>onUserInput(Field.LIQUIDITY_PERCENT,'100'),width:\"20%\"},\"Max\"))))),!showDetailed&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ColumnCenter,null,/*#__PURE__*/React.createElement(ArrowDown,{size:\"16\",color:theme.text2})),/*#__PURE__*/React.createElement(LightCard,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"10px\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500},formattedAmounts[Field.CURRENCY_A]||'-'),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(CurrencyLogo,{currency:currencyA,style:{marginRight:'12px'}}),/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,id:\"remove-liquidity-tokena-symbol\"},currencyA===null||currencyA===void 0?void 0:currencyA.symbol))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500},formattedAmounts[Field.CURRENCY_B]||'-'),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(CurrencyLogo,{currency:currencyB,style:{marginRight:'12px'}}),/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,id:\"remove-liquidity-tokenb-symbol\"},currencyB===null||currencyB===void 0?void 0:currencyB.symbol))),chainId&&(oneCurrencyIsWETH||oneCurrencyIsETH)?/*#__PURE__*/React.createElement(RowBetween,{style:{justifyContent:'flex-end'}},oneCurrencyIsETH?/*#__PURE__*/React.createElement(StyledInternalLink,{to:\"/remove/\".concat(currencyA===ETHER?WETH[chainId].address:currencyIdA,\"/\").concat(currencyB===ETHER?WETH[chainId].address:currencyIdB)},\"Receive WETH\"):oneCurrencyIsWETH?/*#__PURE__*/React.createElement(StyledInternalLink,{to:\"/remove/\".concat(currencyA&&currencyEquals(currencyA,WETH[chainId])?'ETH':currencyIdA,\"/\").concat(currencyB&&currencyEquals(currencyB,WETH[chainId])?'ETH':currencyIdB)},\"Receive ETH\"):null):null))),showDetailed&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CurrencyInputPanel,{value:formattedAmounts[Field.LIQUIDITY],onUserInput:onLiquidityInput,onMax:()=>{onUserInput(Field.LIQUIDITY_PERCENT,'100');},showMaxButton:!atMaxAmount,disableCurrencySelect:true,currency:pair===null||pair===void 0?void 0:pair.liquidityToken,pair:pair,id:\"liquidity-amount\"}),/*#__PURE__*/React.createElement(ColumnCenter,null,/*#__PURE__*/React.createElement(ArrowDown,{size:\"16\",color:theme.text2})),/*#__PURE__*/React.createElement(CurrencyInputPanel,{hideBalance:true,value:formattedAmounts[Field.CURRENCY_A],onUserInput:onCurrencyAInput,onMax:()=>onUserInput(Field.LIQUIDITY_PERCENT,'100'),showMaxButton:!atMaxAmount,currency:currencyA,label:'Output',onCurrencySelect:handleSelectCurrencyA,id:\"remove-liquidity-tokena\"}),/*#__PURE__*/React.createElement(ColumnCenter,null,/*#__PURE__*/React.createElement(Plus,{size:\"16\",color:theme.text2})),/*#__PURE__*/React.createElement(CurrencyInputPanel,{hideBalance:true,value:formattedAmounts[Field.CURRENCY_B],onUserInput:onCurrencyBInput,onMax:()=>onUserInput(Field.LIQUIDITY_PERCENT,'100'),showMaxButton:!atMaxAmount,currency:currencyB,label:'Output',onCurrencySelect:handleSelectCurrencyB,id:\"remove-liquidity-tokenb\"})),pair&&/*#__PURE__*/React.createElement(\"div\",{style:{padding:'10px 20px'}},/*#__PURE__*/React.createElement(RowBetween,null,\"Price:\",/*#__PURE__*/React.createElement(\"div\",null,\"1 \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\" = \",tokenA?pair.priceOf(tokenA).toSignificant(6):'-',\" \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol)),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null,\"1 \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" =\",' ',tokenB?pair.priceOf(tokenB).invert().toSignificant(6):'-',' ',currencyA===null||currencyA===void 0?void 0:currencyA.symbol))),/*#__PURE__*/React.createElement(\"div\",{style:{position:'relative'}},!account?/*#__PURE__*/React.createElement(ButtonLight,{onClick:toggleWalletModal},\"Connect Wallet\"):/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(ButtonConfirmed,{onClick:onAttemptToApprove,confirmed:approval===ApprovalState.APPROVED||signatureData!==null,disabled:approval!==ApprovalState.NOT_APPROVED||signatureData!==null,mr:\"0.5rem\",fontWeight:500,fontSize:16},approval===ApprovalState.PENDING?/*#__PURE__*/React.createElement(Dots,null,\"Approving\"):approval===ApprovalState.APPROVED||signatureData!==null?'Approved':'Approve'),/*#__PURE__*/React.createElement(ButtonError,{onClick:()=>{setShowConfirm(true);},disabled:!isValid||signatureData===null&&approval!==ApprovalState.APPROVED,error:!isValid&&!!parsedAmounts[Field.CURRENCY_A]&&!!parsedAmounts[Field.CURRENCY_B]},/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},error||'Remove'))))))),pair?/*#__PURE__*/React.createElement(AutoColumn,{style:{minWidth:'20rem',marginTop:'1rem'}},/*#__PURE__*/React.createElement(MinimalPositionCard,{showUnwrapped:oneCurrencyIsWETH,pair:pair})):null);}","map":{"version":3,"names":["splitSignature","currencyEquals","ETHER","Percent","WETH","React","useCallback","useContext","useMemo","useState","ArrowDown","Plus","ReactGA","Text","ThemeContext","ButtonPrimary","ButtonLight","ButtonError","ButtonConfirmed","LightCard","AutoColumn","ColumnCenter","TransactionConfirmationModal","ConfirmationModalContent","CurrencyInputPanel","DoubleCurrencyLogo","AddRemoveTabs","MinimalPositionCard","Row","RowBetween","RowFixed","Slider","CurrencyLogo","ROUTER_ADDRESS","useActiveWeb3React","useCurrency","usePairContract","useTransactionAdder","StyledInternalLink","TYPE","calculateGasMargin","calculateSlippageAmount","getRouterContract","currencyId","wrappedCurrency","AppBody","ClickableText","MaxButton","Wrapper","useApproveCallback","ApprovalState","Dots","useBurnActionHandlers","useDerivedBurnInfo","useBurnState","Field","useWalletModalToggle","useUserDeadline","useUserSlippageTolerance","BigNumber","RemoveLiquidity","_ref","_useCurrency","_useCurrency2","_parsedAmounts$Field$","_parsedAmounts$Field$2","_parsedAmounts$Field$3","_parsedAmounts$Field$4","_parsedAmounts$Field$5","_parsedAmounts$Field$6","_parsedAmounts$Field$7","_pair$liquidityToken","_parsedAmounts$Field$13","_parsedAmounts$Field$14","history","match","params","currencyIdA","currencyIdB","currencyA","currencyB","undefined","account","chainId","library","tokenA","tokenB","theme","toggleWalletModal","independentField","typedValue","pair","parsedAmounts","error","onUserInput","_onUserInput","isValid","showConfirm","setShowConfirm","showDetailed","setShowDetailed","attemptingTxn","setAttemptingTxn","txHash","setTxHash","deadline","allowedSlippage","formattedAmounts","LIQUIDITY_PERCENT","equalTo","lessThan","toFixed","LIQUIDITY","toSignificant","CURRENCY_A","CURRENCY_B","atMaxAmount","pairContract","liquidityToken","address","signatureData","setSignatureData","approval","approveCallback","onAttemptToApprove","Error","liquidityAmount","nonce","nonces","deadlineForSignature","Math","ceil","Date","now","EIP712Domain","name","type","domain","version","verifyingContract","Permit","message","owner","spender","value","raw","toString","toHexString","data","JSON","stringify","types","primaryType","send","then","signature","v","r","s","catch","code","field","onLiquidityInput","onCurrencyAInput","onCurrencyBInput","addTransaction","onRemove","currencyAmountA","currencyAmountB","router","amountsMin","currencyBIsETH","oneCurrencyIsETH","deadlineFromNow","methodNames","args","APPROVED","safeGasEstimates","Promise","all","map","methodName","estimateGas","console","indexOfSuccessfulEstimation","findIndex","safeGasEstimate","isBigNumber","gasLimit","response","_parsedAmounts$Field$8","_parsedAmounts$Field$9","summary","symbol","hash","event","category","action","label","join","modalHeader","_parsedAmounts$Field$10","_parsedAmounts$Field$11","createElement","gap","style","marginTop","align","fontSize","fontWeight","currency","size","marginLeft","color","text2","italic","textAlign","padding","concat","modalBottom","_parsedAmounts$Field$12","Fragment","currency0","currency1","margin","text1","priceOf","disabled","onClick","pendingText","liquidityPercentChangeCallback","oneCurrencyIsWETH","Boolean","handleSelectCurrencyA","push","handleSelectCurrencyB","handleDismissConfirmation","adding","isOpen","onDismiss","content","title","topContent","bottomContent","alignItems","Number","parseInt","onChange","width","marginRight","id","justifyContent","to","onMax","showMaxButton","disableCurrencySelect","hideBalance","onCurrencySelect","invert","position","confirmed","NOT_APPROVED","mr","PENDING","minWidth","showUnwrapped"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/pages/RemoveLiquidity/index.tsx"],"sourcesContent":["import { splitSignature } from '@ethersproject/bytes'\nimport { Contract } from '@ethersproject/contracts'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Currency, currencyEquals, ETHER, Percent, WETH } from 'fomoswap-artio'\nimport React, { useCallback, useContext, useMemo, useState } from 'react'\nimport { ArrowDown, Plus } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { RouteComponentProps } from 'react-router'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components'\nimport { ButtonPrimary, ButtonLight, ButtonError, ButtonConfirmed } from '../../components/Button'\nimport { LightCard } from '../../components/Card'\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\nimport { MinimalPositionCard } from '../../components/PositionCard'\nimport Row, { RowBetween, RowFixed } from '../../components/Row'\n\nimport Slider from '../../components/Slider'\nimport CurrencyLogo from '../../components/CurrencyLogo'\nimport { ROUTER_ADDRESS } from '../../constants'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { usePairContract } from '../../hooks/useContract'\n\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport { StyledInternalLink, TYPE } from '../../theme'\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils'\nimport { currencyId } from '../../utils/currencyId'\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\nimport AppBody from '../AppBody'\nimport { ClickableText, MaxButton, Wrapper } from '../Pool/styleds'\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\nimport { Dots } from '../../components/swap/styleds'\nimport { useBurnActionHandlers } from '../../state/burn/hooks'\nimport { useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks'\nimport { Field } from '../../state/burn/actions'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { useUserDeadline, useUserSlippageTolerance } from '../../state/user/hooks'\nimport { BigNumber } from '@ethersproject/bignumber'\n\nexport default function RemoveLiquidity({\n  history,\n  match: {\n    params: { currencyIdA, currencyIdB }\n  }\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\n  const [currencyA, currencyB] = [useCurrency(currencyIdA) ?? undefined, useCurrency(currencyIdB) ?? undefined]\n  const { account, chainId, library } = useActiveWeb3React()\n  const [tokenA, tokenB] = useMemo(() => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)], [\n    currencyA,\n    currencyB,\n    chainId\n  ])\n\n  const theme = useContext(ThemeContext)\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useWalletModalToggle()\n\n  // burn state\n  const { independentField, typedValue } = useBurnState()\n  const { pair, parsedAmounts, error } = useDerivedBurnInfo(currencyA ?? undefined, currencyB ?? undefined)\n  const { onUserInput: _onUserInput } = useBurnActionHandlers()\n  const isValid = !error\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [showDetailed, setShowDetailed] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState(false) // clicked confirm\n\n  // txn values\n  const [txHash, setTxHash] = useState<string>('')\n  const [deadline] = useUserDeadline()\n  const [allowedSlippage] = useUserSlippageTolerance()\n\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')\n      ? '0'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100'))\n      ? '<1'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]:\n      independentField === Field.LIQUIDITY ? typedValue : parsedAmounts[Field.LIQUIDITY]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_A]:\n      independentField === Field.CURRENCY_A ? typedValue : parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_B]:\n      independentField === Field.CURRENCY_B ? typedValue : parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? ''\n  }\n\n  const atMaxAmount = parsedAmounts[Field.LIQUIDITY_PERCENT]?.equalTo(new Percent('1'))\n\n  // pair contract\n  const pairContract: Contract | null = usePairContract(pair?.liquidityToken?.address)\n\n  // allowance handling\n  const [signatureData, setSignatureData] = useState<{ v: number; r: string; s: string; deadline: number } | null>(null)\n  const [approval, approveCallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS)\n  async function onAttemptToApprove() {\n    if (!pairContract || !pair || !library) throw new Error('missing dependencies')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n    // try to gather a signature for permission\n    const nonce = await pairContract.nonces(account)\n\n    const deadlineForSignature: number = Math.ceil(Date.now() / 1000) + deadline\n\n    const EIP712Domain = [\n      { name: 'name', type: 'string' },\n      { name: 'version', type: 'string' },\n      { name: 'chainId', type: 'uint256' },\n      { name: 'verifyingContract', type: 'address' }\n    ]\n    const domain = {\n      name: 'Uniswap V2',\n      version: '1',\n      chainId: chainId,\n      verifyingContract: pair.liquidityToken.address\n    }\n    const Permit = [\n      { name: 'owner', type: 'address' },\n      { name: 'spender', type: 'address' },\n      { name: 'value', type: 'uint256' },\n      { name: 'nonce', type: 'uint256' },\n      { name: 'deadline', type: 'uint256' }\n    ]\n    const message = {\n      owner: account,\n      spender: ROUTER_ADDRESS,\n      value: liquidityAmount.raw.toString(),\n      nonce: nonce.toHexString(),\n      deadline: deadlineForSignature\n    }\n    const data = JSON.stringify({\n      types: {\n        EIP712Domain,\n        Permit\n      },\n      domain,\n      primaryType: 'Permit',\n      message\n    })\n\n    library\n      .send('eth_signTypedData_v4', [account, data])\n      .then(splitSignature)\n      .then(signature => {\n        setSignatureData({\n          v: signature.v,\n          r: signature.r,\n          s: signature.s,\n          deadline: deadlineForSignature\n        })\n      })\n      .catch(error => {\n        // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\n        if (error?.code !== 4001) {\n          approveCallback()\n        }\n      })\n  }\n\n  // wrapped onUserInput to clear signatures\n  const onUserInput = useCallback(\n    (field: Field, typedValue: string) => {\n      setSignatureData(null)\n      return _onUserInput(field, typedValue)\n    },\n    [_onUserInput]\n  )\n\n  const onLiquidityInput = useCallback((typedValue: string): void => onUserInput(Field.LIQUIDITY, typedValue), [\n    onUserInput\n  ])\n  const onCurrencyAInput = useCallback((typedValue: string): void => onUserInput(Field.CURRENCY_A, typedValue), [\n    onUserInput\n  ])\n  const onCurrencyBInput = useCallback((typedValue: string): void => onUserInput(Field.CURRENCY_B, typedValue), [\n    onUserInput\n  ])\n\n  // tx sending\n  const addTransaction = useTransactionAdder()\n  async function onRemove() {\n    if (!chainId || !library || !account) throw new Error('missing dependencies')\n    const { [Field.CURRENCY_A]: currencyAmountA, [Field.CURRENCY_B]: currencyAmountB } = parsedAmounts\n    if (!currencyAmountA || !currencyAmountB) {\n      throw new Error('missing currency amounts')\n    }\n    const router = getRouterContract(chainId, library, account)\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0]\n    }\n\n    if (!currencyA || !currencyB) throw new Error('missing tokens')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    const currencyBIsETH = currencyB === ETHER\n    const oneCurrencyIsETH = currencyA === ETHER || currencyBIsETH\n    const deadlineFromNow = Math.ceil(Date.now() / 1000) + deadline\n\n    if (!tokenA || !tokenB) throw new Error('could not wrap')\n\n    let methodNames: string[], args: Array<string | string[] | number | boolean>\n    // we have approval, use normal remove liquidity\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityETH\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETH', 'removeLiquidityETHSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          deadlineFromNow\n        ]\n      }\n      // removeLiquidity\n      else {\n        methodNames = ['removeLiquidity']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          deadlineFromNow\n        ]\n      }\n    }\n    // we have a signataure, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n      // removeLiquidityETHWithPermit\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETHWithPermit', 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s\n        ]\n      }\n      // removeLiquidityETHWithPermit\n      else {\n        methodNames = ['removeLiquidityWithPermit']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s\n        ]\n      }\n    } else {\n      throw new Error('Attempting to confirm without approval or a signature. Please contact support.')\n    }\n\n    const safeGasEstimates: (BigNumber | undefined)[] = await Promise.all(\n      methodNames.map(methodName =>\n        router.estimateGas[methodName](...args)\n          .then(calculateGasMargin)\n          .catch(error => {\n            console.error(`estimateGas failed`, methodName, args, error)\n            return undefined\n          })\n      )\n    )\n\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex(safeGasEstimate =>\n      BigNumber.isBigNumber(safeGasEstimate)\n    )\n\n    // all estimations failed...\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.')\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation]\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation]\n\n      setAttemptingTxn(true)\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate\n      })\n        .then((response: TransactionResponse) => {\n          setAttemptingTxn(false)\n\n          addTransaction(response, {\n            summary:\n              'Remove ' +\n              parsedAmounts[Field.CURRENCY_A]?.toSignificant(3) +\n              ' ' +\n              currencyA?.symbol +\n              ' and ' +\n              parsedAmounts[Field.CURRENCY_B]?.toSignificant(3) +\n              ' ' +\n              currencyB?.symbol\n          })\n\n          setTxHash(response.hash)\n\n          ReactGA.event({\n            category: 'Liquidity',\n            action: 'Remove',\n            label: [currencyA?.symbol, currencyB?.symbol].join('/')\n          })\n        })\n        .catch((error: Error) => {\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          console.error(error)\n        })\n    }\n  }\n\n  function modalHeader() {\n    return (\n      <AutoColumn gap={'md'} style={{ marginTop: '20px' }}>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize={24} fontWeight={500}>\n            {parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}\n          </Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyA} size={'24px'} />\n            <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n              {currencyA?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        <RowFixed>\n          <Plus size=\"16\" color={theme.text2} />\n        </RowFixed>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize={24} fontWeight={500}>\n            {parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}\n          </Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyB} size={'24px'} />\n            <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n              {currencyB?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n\n        <TYPE.italic fontSize={12} color={theme.text2} textAlign=\"left\" padding={'12px 0 0 0'}>\n          {`Output is estimated. If the price changes by more than ${allowedSlippage /\n            100}% your transaction will revert.`}\n        </TYPE.italic>\n      </AutoColumn>\n    )\n  }\n\n  function modalBottom() {\n    return (\n      <>\n        <RowBetween>\n          <Text color={theme.text2} fontWeight={500} fontSize={16}>\n            {'UNI ' + currencyA?.symbol + '/' + currencyB?.symbol} Burned\n          </Text>\n          <RowFixed>\n            <DoubleCurrencyLogo currency0={currencyA} currency1={currencyB} margin={true} />\n            <Text fontWeight={500} fontSize={16}>\n              {parsedAmounts[Field.LIQUIDITY]?.toSignificant(6)}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        {pair && (\n          <>\n            <RowBetween>\n              <Text color={theme.text2} fontWeight={500} fontSize={16}>\n                Price\n              </Text>\n              <Text fontWeight={500} fontSize={16} color={theme.text1}>\n                1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n              </Text>\n            </RowBetween>\n            <RowBetween>\n              <div />\n              <Text fontWeight={500} fontSize={16} color={theme.text1}>\n                1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n              </Text>\n            </RowBetween>\n          </>\n        )}\n        <ButtonPrimary disabled={!(approval === ApprovalState.APPROVED || signatureData !== null)} onClick={onRemove}>\n          <Text fontWeight={500} fontSize={20}>\n            Confirm\n          </Text>\n        </ButtonPrimary>\n      </>\n    )\n  }\n\n  const pendingText = `Removing ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} ${\n    currencyA?.symbol\n  } and ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} ${currencyB?.symbol}`\n\n  const liquidityPercentChangeCallback = useCallback(\n    (value: number) => {\n      onUserInput(Field.LIQUIDITY_PERCENT, value.toString())\n    },\n    [onUserInput]\n  )\n\n  const oneCurrencyIsETH = currencyA === ETHER || currencyB === ETHER\n  const oneCurrencyIsWETH = Boolean(\n    chainId &&\n      ((currencyA && currencyEquals(WETH[chainId], currencyA)) ||\n        (currencyB && currencyEquals(WETH[chainId], currencyB)))\n  )\n\n  const handleSelectCurrencyA = useCallback(\n    (currency: Currency) => {\n      if (currencyIdB && currencyId(currency) === currencyIdB) {\n        history.push(`/remove/${currencyId(currency)}/${currencyIdA}`)\n      } else {\n        history.push(`/remove/${currencyId(currency)}/${currencyIdB}`)\n      }\n    },\n    [currencyIdA, currencyIdB, history]\n  )\n  const handleSelectCurrencyB = useCallback(\n    (currency: Currency) => {\n      if (currencyIdA && currencyId(currency) === currencyIdA) {\n        history.push(`/remove/${currencyIdB}/${currencyId(currency)}`)\n      } else {\n        history.push(`/remove/${currencyIdA}/${currencyId(currency)}`)\n      }\n    },\n    [currencyIdA, currencyIdB, history]\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    setSignatureData(null) // important that we clear signature data to avoid bad sigs\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0')\n    }\n    setTxHash('')\n  }, [onUserInput, txHash])\n\n  return (\n    <>\n      <AppBody>\n        <AddRemoveTabs adding={false} />\n        <Wrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={handleDismissConfirmation}\n            attemptingTxn={attemptingTxn}\n            hash={txHash ? txHash : ''}\n            content={() => (\n              <ConfirmationModalContent\n                title={'You will receive'}\n                onDismiss={handleDismissConfirmation}\n                topContent={modalHeader}\n                bottomContent={modalBottom}\n              />\n            )}\n            pendingText={pendingText}\n          />\n          <AutoColumn gap=\"md\">\n            <LightCard>\n              <AutoColumn gap=\"20px\">\n                <RowBetween>\n                  <Text fontWeight={500}>Amount</Text>\n                  <ClickableText\n                    fontWeight={500}\n                    onClick={() => {\n                      setShowDetailed(!showDetailed)\n                    }}\n                  >\n                    {showDetailed ? 'Simple' : 'Detailed'}\n                  </ClickableText>\n                </RowBetween>\n                <Row style={{ alignItems: 'flex-end' }}>\n                  <Text fontSize={72} fontWeight={500}>\n                    {formattedAmounts[Field.LIQUIDITY_PERCENT]}%\n                  </Text>\n                </Row>\n                {!showDetailed && (\n                  <>\n                    <Slider\n                      value={Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0))}\n                      onChange={liquidityPercentChangeCallback}\n                    />\n                    <RowBetween>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '25')} width=\"20%\">\n                        25%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '50')} width=\"20%\">\n                        50%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '75')} width=\"20%\">\n                        75%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')} width=\"20%\">\n                        Max\n                      </MaxButton>\n                    </RowBetween>\n                  </>\n                )}\n              </AutoColumn>\n            </LightCard>\n            {!showDetailed && (\n              <>\n                <ColumnCenter>\n                  <ArrowDown size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <LightCard>\n                  <AutoColumn gap=\"10px\">\n                    <RowBetween>\n                      <Text fontSize={24} fontWeight={500}>\n                        {formattedAmounts[Field.CURRENCY_A] || '-'}\n                      </Text>\n                      <RowFixed>\n                        <CurrencyLogo currency={currencyA} style={{ marginRight: '12px' }} />\n                        <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokena-symbol\">\n                          {currencyA?.symbol}\n                        </Text>\n                      </RowFixed>\n                    </RowBetween>\n                    <RowBetween>\n                      <Text fontSize={24} fontWeight={500}>\n                        {formattedAmounts[Field.CURRENCY_B] || '-'}\n                      </Text>\n                      <RowFixed>\n                        <CurrencyLogo currency={currencyB} style={{ marginRight: '12px' }} />\n                        <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokenb-symbol\">\n                          {currencyB?.symbol}\n                        </Text>\n                      </RowFixed>\n                    </RowBetween>\n                    {chainId && (oneCurrencyIsWETH || oneCurrencyIsETH) ? (\n                      <RowBetween style={{ justifyContent: 'flex-end' }}>\n                        {oneCurrencyIsETH ? (\n                          <StyledInternalLink\n                            to={`/remove/${currencyA === ETHER ? WETH[chainId].address : currencyIdA}/${\n                              currencyB === ETHER ? WETH[chainId].address : currencyIdB\n                            }`}\n                          >\n                            Receive WETH\n                          </StyledInternalLink>\n                        ) : oneCurrencyIsWETH ? (\n                          <StyledInternalLink\n                            to={`/remove/${\n                              currencyA && currencyEquals(currencyA, WETH[chainId]) ? 'ETH' : currencyIdA\n                            }/${currencyB && currencyEquals(currencyB, WETH[chainId]) ? 'ETH' : currencyIdB}`}\n                          >\n                            Receive ETH\n                          </StyledInternalLink>\n                        ) : null}\n                      </RowBetween>\n                    ) : null}\n                  </AutoColumn>\n                </LightCard>\n              </>\n            )}\n\n            {showDetailed && (\n              <>\n                <CurrencyInputPanel\n                  value={formattedAmounts[Field.LIQUIDITY]}\n                  onUserInput={onLiquidityInput}\n                  onMax={() => {\n                    onUserInput(Field.LIQUIDITY_PERCENT, '100')\n                  }}\n                  showMaxButton={!atMaxAmount}\n                  disableCurrencySelect\n                  currency={pair?.liquidityToken}\n                  pair={pair}\n                  id=\"liquidity-amount\"\n                />\n                <ColumnCenter>\n                  <ArrowDown size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <CurrencyInputPanel\n                  hideBalance={true}\n                  value={formattedAmounts[Field.CURRENCY_A]}\n                  onUserInput={onCurrencyAInput}\n                  onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                  showMaxButton={!atMaxAmount}\n                  currency={currencyA}\n                  label={'Output'}\n                  onCurrencySelect={handleSelectCurrencyA}\n                  id=\"remove-liquidity-tokena\"\n                />\n                <ColumnCenter>\n                  <Plus size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <CurrencyInputPanel\n                  hideBalance={true}\n                  value={formattedAmounts[Field.CURRENCY_B]}\n                  onUserInput={onCurrencyBInput}\n                  onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                  showMaxButton={!atMaxAmount}\n                  currency={currencyB}\n                  label={'Output'}\n                  onCurrencySelect={handleSelectCurrencyB}\n                  id=\"remove-liquidity-tokenb\"\n                />\n              </>\n            )}\n            {pair && (\n              <div style={{ padding: '10px 20px' }}>\n                <RowBetween>\n                  Price:\n                  <div>\n                    1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n                  </div>\n                </RowBetween>\n                <RowBetween>\n                  <div />\n                  <div>\n                    1 {currencyB?.symbol} ={' '}\n                    {tokenB\n                      ? pair\n                          .priceOf(tokenB)\n                          .invert()\n                          .toSignificant(6)\n                      : '-'}{' '}\n                    {currencyA?.symbol}\n                  </div>\n                </RowBetween>\n              </div>\n            )}\n            <div style={{ position: 'relative' }}>\n              {!account ? (\n                <ButtonLight onClick={toggleWalletModal}>Connect Wallet</ButtonLight>\n              ) : (\n                <RowBetween>\n                  <ButtonConfirmed\n                    onClick={onAttemptToApprove}\n                    confirmed={approval === ApprovalState.APPROVED || signatureData !== null}\n                    disabled={approval !== ApprovalState.NOT_APPROVED || signatureData !== null}\n                    mr=\"0.5rem\"\n                    fontWeight={500}\n                    fontSize={16}\n                  >\n                    {approval === ApprovalState.PENDING ? (\n                      <Dots>Approving</Dots>\n                    ) : approval === ApprovalState.APPROVED || signatureData !== null ? (\n                      'Approved'\n                    ) : (\n                      'Approve'\n                    )}\n                  </ButtonConfirmed>\n                  <ButtonError\n                    onClick={() => {\n                      setShowConfirm(true)\n                    }}\n                    disabled={!isValid || (signatureData === null && approval !== ApprovalState.APPROVED)}\n                    error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\n                  >\n                    <Text fontSize={16} fontWeight={500}>\n                      {error || 'Remove'}\n                    </Text>\n                  </ButtonError>\n                </RowBetween>\n              )}\n            </div>\n          </AutoColumn>\n        </Wrapper>\n      </AppBody>\n\n      {pair ? (\n        <AutoColumn style={{ minWidth: '20rem', marginTop: '1rem' }}>\n          <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\n        </AutoColumn>\n      ) : null}\n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}