{"ast":null,"code":"import{useEffect,useState}from'react';import{isAddress}from'../utils';import{useActiveWeb3React}from'./index';/**\n * Does a reverse lookup for an address to find its ENS name.\n * Note this is not the same as looking up an ENS name to find an address.\n */export default function useENSName(address){const{library}=useActiveWeb3React();const[ENSName,setENSName]=useState({loading:false,ENSName:null});useEffect(()=>{const validated=isAddress(address);if(!library||!validated){setENSName({loading:false,ENSName:null});return;}else{let stale=false;setENSName({loading:true,ENSName:null});library.lookupAddress(validated).then(name=>{if(!stale){if(name){setENSName({loading:false,ENSName:name});}else{setENSName({loading:false,ENSName:null});}}}).catch(()=>{if(!stale){setENSName({loading:false,ENSName:null});}});return()=>{stale=true;};}},[library,address]);return ENSName;}","map":{"version":3,"names":["useEffect","useState","isAddress","useActiveWeb3React","useENSName","address","library","ENSName","setENSName","loading","validated","stale","lookupAddress","then","name","catch"],"sources":["/Users/synallage/Desktop/fomoswap-uni/interface-73580de922ce3ff642430d71aa24f5c053e6dd4d/src/hooks/useENSName.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { isAddress } from '../utils'\nimport { useActiveWeb3React } from './index'\n\n/**\n * Does a reverse lookup for an address to find its ENS name.\n * Note this is not the same as looking up an ENS name to find an address.\n */\nexport default function useENSName(address?: string): { ENSName: string | null; loading: boolean } {\n  const { library } = useActiveWeb3React()\n\n  const [ENSName, setENSName] = useState<{ ENSName: string | null; loading: boolean }>({\n    loading: false,\n    ENSName: null\n  })\n\n  useEffect(() => {\n    const validated = isAddress(address)\n    if (!library || !validated) {\n      setENSName({ loading: false, ENSName: null })\n      return\n    } else {\n      let stale = false\n      setENSName({ loading: true, ENSName: null })\n      library\n        .lookupAddress(validated)\n        .then(name => {\n          if (!stale) {\n            if (name) {\n              setENSName({ loading: false, ENSName: name })\n            } else {\n              setENSName({ loading: false, ENSName: null })\n            }\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            setENSName({ loading: false, ENSName: null })\n          }\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [library, address])\n\n  return ENSName\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,UAAU,CACpC,OAASC,kBAAkB,KAAQ,SAAS,CAE5C;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,UAAUA,CAACC,OAAgB,CAAgD,CACjG,KAAM,CAAEC,OAAQ,CAAC,CAAGH,kBAAkB,CAAC,CAAC,CAExC,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAA+C,CACnFQ,OAAO,CAAE,KAAK,CACdF,OAAO,CAAE,IACX,CAAC,CAAC,CAEFP,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,SAAS,CAAGR,SAAS,CAACG,OAAO,CAAC,CACpC,GAAI,CAACC,OAAO,EAAI,CAACI,SAAS,CAAE,CAC1BF,UAAU,CAAC,CAAEC,OAAO,CAAE,KAAK,CAAEF,OAAO,CAAE,IAAK,CAAC,CAAC,CAC7C,OACF,CAAC,IAAM,CACL,GAAI,CAAAI,KAAK,CAAG,KAAK,CACjBH,UAAU,CAAC,CAAEC,OAAO,CAAE,IAAI,CAAEF,OAAO,CAAE,IAAK,CAAC,CAAC,CAC5CD,OAAO,CACJM,aAAa,CAACF,SAAS,CAAC,CACxBG,IAAI,CAACC,IAAI,EAAI,CACZ,GAAI,CAACH,KAAK,CAAE,CACV,GAAIG,IAAI,CAAE,CACRN,UAAU,CAAC,CAAEC,OAAO,CAAE,KAAK,CAAEF,OAAO,CAAEO,IAAK,CAAC,CAAC,CAC/C,CAAC,IAAM,CACLN,UAAU,CAAC,CAAEC,OAAO,CAAE,KAAK,CAAEF,OAAO,CAAE,IAAK,CAAC,CAAC,CAC/C,CACF,CACF,CAAC,CAAC,CACDQ,KAAK,CAAC,IAAM,CACX,GAAI,CAACJ,KAAK,CAAE,CACVH,UAAU,CAAC,CAAEC,OAAO,CAAE,KAAK,CAAEF,OAAO,CAAE,IAAK,CAAC,CAAC,CAC/C,CACF,CAAC,CAAC,CAEJ,MAAO,IAAM,CACXI,KAAK,CAAG,IAAI,CACd,CAAC,CACH,CACF,CAAC,CAAE,CAACL,OAAO,CAAED,OAAO,CAAC,CAAC,CAEtB,MAAO,CAAAE,OAAO,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module"}